<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lucia</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://lupeipei.github.io/"/>
  <updated>2022-03-08T08:30:58.439Z</updated>
  <id>http://lupeipei.github.io/</id>
  
  <author>
    <name>Lucia</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Variables</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-variables/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-variables/</id>
    <published>2022-03-08T08:20:21.000Z</published>
    <updated>2022-03-08T08:30:58.439Z</updated>
    
    <content type="html"><![CDATA[<p>æ—¶éš”ä¸€ä¸ªå¤šæœˆæ²¡æ›´äº†, è¿™é¢‘ç‡å§”å®æ…¢äº†äº›ğŸ˜„ï¸</p><p>è™½æ…¢ä½†ä¸å¼ƒå‘, æ¥ç»§ç»­å¡«å‘ğŸ˜‰.</p><p>ä»è¿™ä¸€èŠ‚å¼€å§‹, æˆ‘ä»¬æ­£å¼æ¥å­¦ VimScript çš„è¯­æ³•çŸ¥è¯†å•¦.</p><p>å…ˆä»å˜é‡å¼€å§‹. æ¥çœ‹ä¸‹å˜é‡çš„å£°æ˜, èµ‹å€¼åŠä½œç”¨åŸŸ.</p><h4 id="å£°æ˜ä¸èµ‹å€¼"><a href="#å£°æ˜ä¸èµ‹å€¼" class="headerlink" title="å£°æ˜ä¸èµ‹å€¼"></a>å£°æ˜ä¸èµ‹å€¼</h4><p>VimScript ä½¿ç”¨ let æ¥å£°æ˜å˜é‡.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:<span class="built_in">let</span> foo=<span class="string">&#x27;bar&#x27;</span></span><br><span class="line">:<span class="built_in">echo</span> foo</span><br><span class="line">:<span class="built_in">let</span> foo=2</span><br><span class="line">:<span class="built_in">echo</span> foo</span><br></pre></td></tr></table></figure><p>ä¼šåˆ†åˆ«è¾“å‡º:</p><figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="built_in">bar</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>ä¹‹å‰æˆ‘ä»¬æåˆ° option, option å¯ä»¥é€šè¿‡ <code>&amp;&#123;option&#125;</code> æ¥åšä¸ºå˜é‡è¿›è¡Œè¯»å†™æ“ä½œ.</p><p>çœ‹ä¸ªä¾‹å­:</p><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">set</span> textwidth=80</span><br><span class="line">:echo <span class="comment">&amp;textwidth</span></span><br><span class="line">:let <span class="comment">&amp;textwidth = &amp;textwidth + 10</span></span><br><span class="line">:echo <span class="comment">&amp;textwidth</span></span><br><span class="line">:<span class="keyword">set</span> <span class="comment">textwidth?</span></span><br></pre></td></tr></table></figure><p>ä¼šä¾æ¬¡è¾“å‡º:</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">80</span><br><span class="line">90</span><br><span class="line"><span class="attribute">textwidth</span>=90</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡º, æŠŠ option è½¬ä¸ºå˜é‡, ä½¿ç”¨ let æ¥æ›´æ–° option çš„å€¼, æ¯” <code>set option=&#123;value&#125;</code> è¦çµæ´»ä¸€äº›.</p><p>å¦‚æœåªæƒ³é’ˆå¯¹å½“å‰ Window çš„ option è¿›è¡Œå†™æ“ä½œè€Œä¸ä¿®æ”¹å…¨å±€çš„ option, åªéœ€è¦ç»™å˜é‡æ·»åŠ ç›¸åº”çš„ namespace å³å¯.[å…¶å®æ˜¯å˜é‡çš„ä½œç”¨åŸŸ, å¾…ä¼šä¼šæåˆ°]</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:let &amp;l:textwidth</span> = 10</span><br><span class="line">:echo &amp;textwidth</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¾“å‡ºæ˜¯10. [æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>:setlocal textwidth = 10</code> æ¥è®¾ç½® local textwidth]</p><p>å¼€ä¸€ä¸ªæ–°çš„ Window, ç»§ç»­è¾“å‡º:</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:e</span> text.txt</span><br><span class="line"><span class="symbol">:echo</span> &amp;textwidth</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¾“å‡ºæ˜¯ 90.</p><p>è¯´æ˜åˆšåˆšé’ˆå¯¹ textwidth çš„ä¿®æ”¹, åªå¯¹å‰ä¸€ä¸ª Window æœ‰æ•ˆ.</p><p>[ è¿™é‡Œéœ€è¦åœ¨ä¸åŒçš„ Windows ä¸‹è¿›è¡Œä¸Šé¢çš„æ“ä½œ, å› ä¸ºåŒä¸€ä¸ª Window ä¸‹çš„ buffers å…±äº«ç›¸åŒçš„ option,  å¦‚æœåœ¨åŒä¸€ä¸ª Window ä¸‹çš„ä¸åŒ buffer ä¸­æ‰§è¡Œ <code>:echo &amp;textwidth </code> , è¾“å‡ºéƒ½æ˜¯10.]</p><p>é™¤äº† option å¤–, registers ä¹Ÿå¯ä»¥ä½œä¸ºå˜é‡æ¥è¿›è¡Œè¯»å†™. æ ¼å¼ä¸º <code>@&#123;register&#125;</code></p><p>æ¯”å¦‚, æˆ‘ä»¬è®¾ç½®å¯„å­˜å™¨ a çš„å€¼ä¸º hello.</p><figure class="highlight ceylon"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">let</span> <span class="meta">@a</span>=<span class="string">&quot;hello&quot;</span></span><br></pre></td></tr></table></figure><p>Normal æ¨¡å¼ä¸‹, åœ¨æ–‡ä»¶çš„ä»»ä½•ä½ç½®, æŒ‰<code>&quot;ap</code>,  Vim ä¼šæŠŠ å¯„å­˜å™¨ a çš„å€¼ hello, ç²˜è´´åœ¨å…‰æ ‡å¤„.</p><p>ä¹Ÿå¯ä»¥è¯»å–å¯„å­˜å™¨çš„å€¼. åœ¨æ–‡ä»¶ä¸­, é€‰ä¸­æŸä¸ªå•è¯, æ¯”å¦‚ world, æŒ‰ <code>y</code> å, åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">echo</span> @<span class="comment">&quot;</span></span><br></pre></td></tr></table></figure><p>ä¼šè¾“å‡º world.</p><p>ä½¿ç”¨<code>:help registers</code> , å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ä»¥è¯»å†™çš„å¯„å­˜å™¨.</p><p>é™¤äº†å£°æ˜å˜é‡å¤–, å½“æˆ‘ä»¬æƒ³è¦åˆ é™¤æŸä¸ªå˜é‡æ—¶, å¯ä»¥ä½¿ç”¨ <code>unlet</code>.</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:unlet</span> foo</span><br><span class="line"><span class="symbol">:echo</span> foo</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä¼šè¾“å‡ºé”™è¯¯ä¿¡æ¯:  Undefined variable: foo.</p><p>æ³¨æ„, unlet ä¸èƒ½ç”¨äº <code>&amp;&#123;option&#125;</code>, <code>@&#123;register&#125;</code>.</p><h4 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h4><p>åœ¨è®¾ç½® local option æ—¶, æˆ‘ä»¬å·²ç»æåˆ°äº†ä½œç”¨åŸŸ.</p><p>ç°åœ¨ä»¥ buffer ä¸ºä¾‹, æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ª buffer-variable:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:let b:hello</span> = &quot;world&quot;</span><br><span class="line"><span class="meta">:echo b:hello</span></span><br></pre></td></tr></table></figure><p>è¾“å‡º: world.</p><p>åœ¨å¦ä¸€ä¸ª buffer ä¸­, æ‰§è¡Œ:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">echo</span> <span class="variable">b:hello</span></span><br></pre></td></tr></table></figure><p>è¾“å‡º: Undefined variable: b:hello.</p><p>å› ä¸ºå£°æ˜çš„ b:hello åªå¯¹å‰ä¸€ä¸ª buffer æœ‰æ•ˆ.</p><p>å¯ä»¥é€šè¿‡ <code>:help internal-variables</code> , æ¥æŸ¥çœ‹å†…éƒ¨å˜é‡çš„ scope åˆ—è¡¨.</p><figure class="highlight coq"><table><tr><td class="code"><pre><span class="line">|<span class="type">buffer</span>-variable|    <span class="type">b</span>:  <span class="keyword">Local</span> to the current buffer.</span><br><span class="line">|<span class="type">window</span>-variable|    <span class="type">w</span>:  <span class="keyword">Local</span> to the current window.</span><br><span class="line">|<span class="type">tabpage</span>-variable|   <span class="type">t</span>:  <span class="keyword">Local</span> to the current tab page.</span><br><span class="line">|<span class="type">global</span>-variable|    <span class="type">g</span>:  <span class="keyword">Global</span>.</span><br><span class="line">|<span class="type">local</span>-variable|     <span class="type">l</span>:  <span class="keyword">Local</span> to a function.</span><br><span class="line">|<span class="type">script</span>-variable|    <span class="type">s</span>:  <span class="keyword">Local</span> to a |<span class="type">:source</span>|<span class="type">&#x27;ed</span> Vim script.</span><br><span class="line">|<span class="type">function</span>-argument|  <span class="type">a</span>:  <span class="keyword">Function</span> argument (only inside a function).</span><br><span class="line">|<span class="type">vim</span>-variable|       <span class="type">v</span>:  <span class="keyword">Global</span>, predefined <span class="built_in">by</span> Vim.</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹å‡º, åˆšåˆšæˆ‘ä»¬é€šè¿‡<code>&amp;l:textwidth=&#123;value&#125;</code> è®¾ç½®äº†textwidth, æˆ‘ä»¬å¯ä»¥çŒœ Vim ä¸­çš„ <code>&#123;option&#125;</code>, <code>&#123;option&#125;=</code> æœ¬è´¨ä¸Šåº”è¯¥æ˜¯ä¸ªå‡½æ•°.</p><p>ä¸Šè¿°åˆ—è¡¨ä¸­çš„ script-variable,  function-argument å¤§é‡å­˜åœ¨pluginä¸­ï¼Œéšæ„é€‰æ‹©ä¸€ä¸ªVim æ’ä»¶ï¼ŒæŸ¥çœ‹å…¶æºä»£ç ï¼Œå°±ä¼šçœ‹åˆ°<code>s:var</code>, <code>a:var</code> çš„èº«å½±.</p><p>OK, å˜é‡çš„ä»‹ç»å°±åˆ°è¿™å•¦, ä¸‹ä¸€ç¯‡æ¥è¯´è¯´ if.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ—¶éš”ä¸€ä¸ªå¤šæœˆæ²¡æ›´äº†, è¿™é¢‘ç‡å§”å®æ…¢äº†äº›ğŸ˜„ï¸&lt;/p&gt;
&lt;p&gt;è™½æ…¢ä½†ä¸å¼ƒå‘, æ¥ç»§ç»­å¡«å‘ğŸ˜‰.&lt;/p&gt;
&lt;p&gt;ä»è¿™ä¸€èŠ‚å¼€å§‹, æˆ‘ä»¬æ­£å¼æ¥å­¦ VimScript çš„è¯­æ³•çŸ¥è¯†å•¦.&lt;/p&gt;
&lt;p&gt;å…ˆä»å˜é‡å¼€å§‹. æ¥çœ‹ä¸‹å˜é‡çš„å£°æ˜, èµ‹å€¼åŠä½œç”¨åŸŸ.&lt;/p&gt;
&lt;h4 id=&quot;å£°æ˜ä¸èµ‹å€¼
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥è§£æCID</title>
    <link href="http://lupeipei.github.io/posts/what-is-cid/"/>
    <id>http://lupeipei.github.io/posts/what-is-cid/</id>
    <published>2022-03-03T11:20:14.000Z</published>
    <updated>2022-03-03T11:43:10.896Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ IPFS ç›¸å…³å†…å®¹çš„ç¬¬ä¸€ç¯‡, æ‰“ç®—èŠ±ç‚¹æ—¶é—´æŠŠä¹‹å‰è‡ªå·±åˆ· <a href="https://proto.school/tutorials">ProtoSchool</a> ç³»åˆ—è¯¾ç¨‹æ‰€å­¦åˆ°çš„çŸ¥è¯†æ¢³ç†ä¸‹.</p><p>ç¬¬ä¸€ç¯‡å°±ä» CID å¼€å§‹å§. </p><span id="more"></span> <p>å½“ç„¶, åˆä¸€æ¬¡, å¼ºçƒˆæ¨èåˆ·åŸæ–‡ ,å¦¥å¦¥çœŸé¦™ç³»åˆ—.</p><h4 id="æ˜¯ä»€ä¹ˆä¸ä¸ºä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆä¸ä¸ºä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆä¸ä¸ºä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆä¸ä¸ºä»€ä¹ˆ</h4><p>CID æ˜¯ Content Identifier çš„ç¼©å†™, ä¸­æ–‡å¯ä»¥è¯‘æˆå†…å®¹æ ‡è¯†ç¬¦.</p><p>CIDæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢?    </p><p>æˆ‘ä»¬çŸ¥é“, ç½‘ç»œä¸­ç”¨äºæ ‡è¯†èµ„æºçš„æ–¹å¼æ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦URI(Uniform Resource Identifier). </p><p>URIä¸»è¦æœ‰ä¸¤ç§ç±»å‹: URL(Uniform Resource Locator) å’Œ URN( Uniform Resource Name).</p><p>åœ¨Web2.0ä¸­,  æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ˜¯URL. å³ç»Ÿä¸€èµ„æºå®šä½ç¬¦, èµ„æºåŸºäºæ•°æ®å­˜å‚¨çš„ä½ç½®æ¥å¯»å€. è¿™ç§æ ‡è¯†èµ„æºçš„æ–¹å¼, å¯ä»¥ç§°ä¹‹ä¸º Location addressing.</p><p>æ¯”å¦‚ä¸€å¼ å›¾ç‰‡çš„URL ä¸º<code>https://www.puppies.com/cute_cat.jpg</code> .æˆ‘ä»¬ä¼šé¢„è®¾, è¿™æ˜¯ä¸€ä¸ªæœ‰å…³å°çŒ«ç…§ç‰‡çš„URL. è®¿é—®è¯¥URLå, ä¼šçœ‹åˆ°ä¸€å¼ çŒ«å’ªçš„èŒç…§.</p><p>é‚£ä¹ˆURLsè¿™ç§æ ‡è¯†èµ„æºçš„æ–¹å¼ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢?</p><blockquote><p>æœ€ä¸»è¦çš„å°±æ˜¯å®‰å…¨é—®é¢˜.</p><p>æˆ‘ä»¬æ— æ³•é€šè¿‡ä¸€ä¸ªURL, æ¥éªŒè¯è¿™ä¸ªURLç»™åˆ°æˆ‘ä»¬çš„æ˜¯æˆ‘ä»¬æƒ³è¦çš„å†…å®¹. æ¯”å¦‚ä¸Šé¢çš„URL, å¯èƒ½æ‰“å¼€å, ä¸æ˜¯ä¸€å¼ çŒ«å’ªçš„èŒç…§, è€Œæ˜¯ä¸€å¼ å°ç‹—çš„ç…§ç‰‡, ç”šè‡³å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæœ¨é©¬ç—…æ¯’.</p><p>ä¹Ÿå°±æ˜¯è¯´, æ‰˜ç®¡åœ¨ä¸­å¿ƒåŒ–ç½‘ç»œä¸Šçš„æ–‡ä»¶, å®ƒä»¬çš„å†…å®¹ä¸å®ƒä»¬åŸºäºä½ç½®çš„åœ°å€ URLs æ˜¯æ²¡æœ‰ç›´æ¥å…³ç³»çš„. æˆ‘ä»¬ä¸èƒ½é€šè¿‡URLsæˆ–è€…æ–‡ä»¶åæ¥ç¡®å®šèµ„æºçš„å†…å®¹.</p><p>å¦ä¸€ä¸ªå­˜åœ¨çš„é—®é¢˜æ˜¯å¤§é‡é‡å¤çš„èµ„æºæ–‡ä»¶å­˜å‚¨åœ¨ç›¸åŒæˆ–è€…ä¸åŒçš„æœåŠ¡å™¨ä¸Š. ç”¨æˆ·çœ‹åˆ°çš„æ˜¯ä¸åŒçš„URLs, ä½†è¿™äº›URLs æ‰€æ ‡è¯†çš„éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„èµ„æºæ–‡ä»¶, è¿™å°±é€ æˆç©ºé—´ä¸Šä¸å¿…è¦çš„æµªè´¹.</p></blockquote><p>é‚£ä¹ˆ, èƒ½å¦æœ‰ä¸€ç§åŸºäºæ–‡ä»¶å†…å®¹çš„æ ‡è¯†ç¬¦å‘¢? æˆ‘ä»¬èƒ½å¦ä» location-based addressing è½¬å‘ content-based addressing?</p><blockquote><p>ç­”æ¡ˆå½“ç„¶æ˜¯Yes : P</p><p>åœ¨å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œä¸­, èµ„æºçš„æ ‡è¯†å°±æ˜¯åŸºäºå†…å®¹çš„.</p><p>é’ˆå¯¹ä»»æ„ç»™å®šçš„èµ„æºæ–‡ä»¶, æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‰¹å®šçš„ç®—æ³•, ä¸ºå…¶ç”Ÿæˆå”¯ä¸€çš„è¯†åˆ«ç . å³Content addressing. </p><p>è¿™é‡Œè¦ä»‹ç»çš„CID, å°±æ˜¯ä¸€ç§ç‰¹æ®Šå½¢å¼çš„å†…å®¹å¯»å€. </p><p>è¿™ç§åŸºäºå†…å®¹çš„èµ„æºæ ‡è¯†æ–¹å¼, ç›¸æ¯”URLs, é™¤äº†æ›´å®‰å…¨, é¿å…èµ„æºå†—ä½™å¤–,  è¿˜æœ‰ä¸€ä¸ªä¼˜åŠ¿.</p><p>åœ¨ä¸­å¿ƒåŒ–çš„ç½‘ç»œä¸­, å½“æˆ‘ä»¬åŸºäºæŸä¸ªURLså»è·å–æ•°æ®æ—¶, å¦‚æœè¯¥æœåŠ¡ç‚¹æŒ‚äº†, é‚£æˆ‘ä»¬å°±æ— æ³•è·å–åˆ°æ•°æ®äº†, ä½†æ˜¯åœ¨å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œä¸­, æˆ‘ä»¬åªè¦æœ‰æ‰€éœ€è¦èµ„æºçš„å†…å®¹åœ°å€, æ¯”å¦‚CID, å°±å¯ä»¥å‘å…¨ç½‘çš„èŠ‚ç‚¹å‘é€è¯·æ±‚.</p></blockquote><p>äº†è§£äº†æ˜¯ä»€ä¹ˆå’Œä¸ºä»€ä¹ˆå, æˆ‘ä»¬æ¥çœ‹çœ‹CIDå…·ä½“æ˜¯æ€ä¹ˆç”Ÿæˆçš„.</p><h4 id="åŸºæœ¬æ„æˆåŠæ¼”è¿›"><a href="#åŸºæœ¬æ„æˆåŠæ¼”è¿›" class="headerlink" title="åŸºæœ¬æ„æˆåŠæ¼”è¿›"></a>åŸºæœ¬æ„æˆåŠæ¼”è¿›</h4><p>CID ç”±IPFS å¼€å‘. ä¸€ä¸ªå¸¸è§çš„CID é•¿è¿™æ ·:</p><figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">QmY<span class="number">7</span>Yh<span class="number">4</span>UquoXHLPF<span class="meta">o2</span>XbhXkhBvFoPwmQUSa<span class="number">92</span>px<span class="symbol">nxjQuPU</span></span><br></pre></td></tr></table></figure><p>CIDçš„å¤§è‡´åˆ›å»ºè¿‡ç¨‹, æ˜¯ä½¿ç”¨ä¸€ç§åŠ å¯†ç®—æ³•(cryptographic algorithm)ï¼Œå°†ä»»æ„å¤§å°çš„è¾“å…¥ï¼ˆæ•°æ®æˆ–æ–‡ä»¶ï¼‰æ˜ å°„åˆ°å›ºå®šå¤§å°çš„è¾“å‡ºã€‚è¿™ç§å¯¹äºè¾“å…¥æ•°æ®çš„è½¬æ¢, ç§°ä¸ºåŠ å¯†å“ˆå¸Œæ‘˜è¦(cryptographic hash digest)ã€‚</p><p>IPFSç›®å‰å¤§éƒ¨åˆ†CIDæ˜¯ä½¿ç”¨  <code>sha2-256</code> ç®—æ³•, ä¹Ÿå°±æ˜¯ 256 bits, 32bytes. </p><p>ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡º, CIDçš„é•¿åº¦, æ˜¯ç”± <strong>cryptographic hash</strong> åŠ å¯†å“ˆå¸Œç®—æ³•æ¥å†³å®šçš„, è€Œè·Ÿæ–‡ä»¶æœ¬èº«çš„å¤§å°æ— å…³. ä»»æ„é•¿åº¦çš„è¾“å…¥é€šè¿‡ç›¸åŒçš„å“ˆå¸Œå‡½æ•°è¿›è¡Œå¤„ç†, ä¼šå¾—åˆ°å›ºå®šé•¿åº¦çš„è¾“å‡º.</p><p>ä½†é‰´äºå“ˆå¸Œç®—æ³•å¯èƒ½ä¼šè¢«è¯æ˜æ˜¯ä¸å®‰å…¨çš„,  æ¯”å¦‚ sha1 , æ‰€ä»¥CIDéœ€è¦æ”¯æŒå¤šç§å“ˆå¸Œç®—æ³•.</p><p>æ—¢ç„¶è¦æ”¯æŒå¤šç§åŠ å¯†ç®—æ³•ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™ä¸ªç‰¹å®šçš„å“ˆå¸Œå€¼æ˜¯ä½¿ç”¨å“ªç§ç®—æ³•ç”Ÿæˆçš„å‘¢?</p><p>CID ä½¿ç”¨ multihash æ¥æ ‡è¯†æ‰€ç”¨çš„åŠ å¯†ç®—æ³•.</p><p>å…·ä½“å°±æ˜¯<strong>å°†é•¿åº¦å’Œä½¿ç”¨çš„ç®—æ³•, ä½œä¸ºHashå€¼çš„å”¯ä¸€è¯†åˆ«å‰ç¼€</strong>.</p><h5 id="Multihash"><a href="#Multihash" class="headerlink" title="Multihash"></a>Multihash</h5><p>Multihash éµå¾ª TLV æ¨¡å¼, å³ <strong>T</strong>ype, <strong>L</strong>ength, <strong>V</strong>alue:</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesT0006L02-multihash.jpeg"></p><p>Type</p><blockquote><p>æ ‡è¯†æ‰€ä½¿ç”¨çš„åŠ å¯†ç®—æ³• cryptographic algorithm. </p><p>é€šè¿‡ <a href="https://github.com/multiformats/multicodec/blob/master/table.csv">multicodec table</a> å¯ä»¥æŸ¥çœ‹å¯¹åº”çš„ç®—æ³•, æ¯”å¦‚, <code>sha2-256</code>  çš„code ä¸º 18, ç”¨16è¿›åˆ¶è¡¨ç¤ºåˆ™æ˜¯ <code>0x12</code> </p></blockquote><p>Length</p><blockquote><p> é•¿åº¦, å¦‚æœç”¨çš„æ˜¯<code>sha2-256</code> ç®—æ³•, åˆ™æ˜¯32 bytes</p></blockquote><p>Value</p><blockquote><p>ç”Ÿæˆçš„å“ˆå¸Œå€¼</p></blockquote><p>å½“æˆ‘ä»¬é€šè¿‡åŠ å¯†å“ˆå¸Œæ‘˜è¦å¾—åˆ°ä¸€ä¸ªå›ºå®šå¤§å°çš„è¾“å‡ºæ—¶, è¿™ä¸ªè¾“å‡ºæ˜¯äºŒè¿›åˆ¶æ ¼å¼çš„. å¯¹å—ä¼—æ¥è¯´, ä¸æ˜¯é‚£ä¹ˆå‹å¥½, å› æ­¤éœ€è¦å°†å…¶ç¼–ç æˆå­—ç¬¦ä¸², ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºCID.</p><p>IPFS æœ€åˆæ˜¯ä½¿ç”¨ base58btc å°†äºŒè¿›åˆ¶æ ¼å¼çš„å“ˆå¸Œå€¼, è¿›è¡Œç¼–ç å‹ç¼©, å¾—åˆ°ç±»ä¼¼è¿™æ ·çš„ç»“æœ:</p><figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">QmY<span class="number">7</span>Yh<span class="number">4</span>UquoXHLPF<span class="meta">o2</span>XbhXkhBvFoPwmQUSa<span class="number">92</span>px<span class="symbol">nxjQuPU</span></span><br></pre></td></tr></table></figure><p>ä»¥ Qmå¼€å¤´, è¿™ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä»£CID v0.</p><p>ä½†éšä¹‹é—®é¢˜ä¹Ÿå°±æ¥äº†.</p><ul><li><p>æˆ‘ä»¬å¦‚ä½•å¾—çŸ¥ç¨‹åºæ˜¯ç”¨ä»€ä¹ˆæ–¹æ³•å¯¹åŸæ•°æ®æœ¬èº«è¿›è¡Œäº†ç¼–ç ? æˆ‘ä»¬çŸ¥é“æ–‡ä»¶å†…ä¿å­˜æ•°æ®çš„å½¢å¼æ˜¯äºŒè¿›åˆ¶, å°†äºŒè¿›åˆ¶æ•°æ®åºåˆ—åŒ–ç”¨çš„æ˜¯ protobuf è¿˜æ˜¯JSON, æŠ‘æˆ–æ˜¯å…¶ä»– ï¼Ÿ</p></li><li><p>æˆ‘ä»¬å¦‚ä½•å¾—çŸ¥ç¨‹åºæ˜¯ç”¨ä»€ä¹ˆæ–¹æ³•æ¥åˆ›å»ºCIDçš„å­—ç¬¦ä¸²è¡¨ç¤ºçš„? CIDv0 ç‰ˆæœ¬ä½¿ç”¨äº† base58btc , ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨ base32 æˆ–è€… base64 æ€ä¹ˆåŠå‘¢?</p></li></ul><p>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜, CIDä¸å¾—ä¸æ¼”è¿›, ç”±æ­¤, CIDv1åº”è¿è€Œç”Ÿ.</p><p>é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜,  CIDv1 å¼•å…¥äº†å¦å¤–çš„å‰ç¼€, ç”¨æ¥æ ‡è¯†é’ˆå¯¹æ–‡ä»¶æ•°æ®æ‰€ä½¿ç”¨çš„ç¼–ç æ–¹å¼. ä¹Ÿå°±æ˜¯ Multicodec Prefix.</p><p>è¿™æ ·, æˆ‘ä»¬çš„CID å°±æ‰©å±•æˆäº†è¿™æ ·:</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesT0006L03-multicodec.png"></p><p>è¿™é‡Œ Multicodec Prefix çš„å€¼æ˜¯ 01110000, å³ 0x70, æŸ¥çœ‹<a href="https://github.com/multiformats/multicodec/blob/master/table.csv">codec identifier table</a>, å¯¹åº”çš„å°±æ˜¯ dag-pb. </p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/images20220303145823.png"></p><p>dag-pb è¡¨ç¤º MerkleDAG protobuf, æ˜¯ <a href="https://ipld.io/">IPLD</a> (<strong>I</strong>nter<strong>P</strong>lanetary <strong>L</strong>inked <strong>D</strong>ata)çš„ä¸€ç§. [ä¸æ‡‚ IPLD? æ²¡äº‹, æˆ‘æš‚æ—¶ä¹Ÿæ²¡æ•´æ˜ç™½, å…ˆæŠŠ dag-pb å½“ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ protobuf çœ‹å¾…, ä¸å½±å“æ•´ä½“ç†è§£]</p><p>ä¸ºäº†åŒºåˆ†ç‰ˆæœ¬, CIDv1 è¿˜æ·»åŠ äº† version prefix.</p><p>æ‰€ä»¥æ•´ä¸ª CID çš„æ„æˆå°±å˜æˆè¿™æ ·:</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;cid-version&gt;</span><span class="section">&lt;multicodec&gt;</span><span class="section">&lt;multihash-algorithm&gt;</span><span class="section">&lt;multihash-length&gt;</span><span class="section">&lt;multihash-hash&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­, cid-version è¡¨ç¤ºCIDçš„ç‰ˆæœ¬.</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesT0006L04-version-prefix.png"></p><p>é’ˆå¯¹ç¬¬äºŒä¸ªé—®é¢˜, æˆ‘ä»¬å·²ç»çŸ¥é“, CIDv0 ä¸­, é»˜è®¤ä½¿ç”¨base58btc.</p><p>é‚£ä¹ˆåœ¨CIDv1åŠä¹‹åçš„ç‰ˆæœ¬ä¸­, å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†å…¶ä»–çš„ç¼–ç æ–¹å¼, å¦‚ä½•è®©ä»–äººçŸ¥é“ä½ ä½¿ç”¨çš„æ˜¯å“ªç§ç¼–ç æ–¹æ³•å‘¢?</p><p>å¤§æ¦‚ä½ ä¹ŸçŒœåˆ°äº†, ç»§ç»­ç”¨å‰ç¼€. [ä¸å¾—ä¸å¹ä¸€å¥: å‰ç¼€å¤§æ³•å¥½]</p><p>Multibase prefix å°±æ˜¯ç”¨æ¥è¡¨ç¤ºåœ¨å­—ç¬¦ä¸²å’ŒäºŒè¿›åˆ¶æ ¼å¼ä¹‹é—´è½¬æ¢CIDæ—¶æ‰€ä½¿ç”¨çš„åŸºç¡€ç¼–ç ã€‚</p><p>ä¸å‰é¢Multicodec prefix ä¸åŒçš„æ˜¯,  å®ƒä¸æ˜¯æ”¾åœ¨äºŒè¿›åˆ¶æ ¼å¼çš„è¾“å‡ºç»“æœä¸­, è€Œæ˜¯æ”¾åœ¨äº†è½¬æ¢åçš„å­—ç¬¦ä¸²ä¸­.</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesT0006L05-multibase-prefix.png"></p><p>æ¥çœ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ ¼å¼çš„CID:</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">QmbWqxBEKC3P8tqsKc98xmWNzrzDtRLMiMPL8wBuTGsMnR</span></span><br><span class="line">bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“ç¬¬ä¸€ä¸ªCIDæ˜¯CIDv0, å› ä¸ºå®ƒä»¥Qmå¼€å¤´, ç¬¬äºŒä¸ªä»¥bå¼€å¤´, è¡¨ç¤ºç¼–ç æ–¹æ³•ä¸º base32.</p><p>é€šè¿‡æŸ¥çœ‹å®Œæ•´çš„ <a href="https://github.com/multiformats/multibase/blob/master/multibase.csv">multibase</a> è¡¨, å¯ä»¥çŸ¥é“CIDå…·ä½“æ‰€é‡‡ç”¨çš„åŸºç¡€ç¼–ç æ–¹æ³•.</p><p>è‡³æ­¤, æˆ‘ä»¬åŸºæœ¬æŠŠCIDçš„æ„æˆå’Œæ¼”è¿›ç†å¾—å·®ä¸å¤šäº†.</p><p>å¦‚æœä½ æœ¬åœ°å®‰è£…äº†ipfs,  é€šè¿‡å‘½ä»¤è¡Œ, å¯ä»¥æŸ¥çœ‹CID çš„ç›¸å…³å†…å®¹, æ¯”å¦‚æ”¯æŒçš„base encoding:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ipfs cid bases</span><br></pre></td></tr></table></figure><p>æ”¯æŒçš„ Cryptographic hashing  ç®—æ³•:</p><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ipfs cid hashes</span></span><br></pre></td></tr></table></figure><p>ç›®å‰ipfs (0.11.0) çš„CID, ä¾ç„¶é»˜è®¤æ˜¯ v0 ç‰ˆæœ¬.</p><h4 id="åœ¨çº¿è§£æ"><a href="#åœ¨çº¿è§£æ" class="headerlink" title="åœ¨çº¿è§£æ"></a>åœ¨çº¿è§£æ</h4><p>è€ƒè™‘åˆ°CIDçš„æ„æˆå¤æ‚,  IPFSæä¾›äº†<a href="https://cid.ipfs.io/">CID inspector</a> æ¥å¸®åŠ©æˆ‘ä»¬è§£æCIDç»“æœ. </p><p>ä»¥ QmbWqxBEKC3P8tqsKc98xmWNzrzDtRLMiMPL8wBuTGsMnR ä¸ºä¾‹:</p><p>ç»“æœå¦‚ä¸‹:</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesimage-20220205151801443.png"></p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«çœ‹åˆ° multibase, version, muticodec, multihashå¯¹åº”çš„å€¼.</p><p>ç¨ç¨æä¸€ä¸‹, å› ä¸º multibaseå’Œ muticodec æ˜¯CIDv1åæå‡ºçš„, è€Œæˆ‘ä»¬çš„CID æ˜¯v0ç‰ˆæœ¬çš„,  æ‰€ä»¥è§£æå, è¿™ä¸¤éƒ¨åˆ†æ˜¾ç¤ºäº† implicit.</p><p>æˆ‘ä»¬å°†è§£æåå¾—åˆ°çš„CIDv1, ç»§ç»­è§£æ, å¾—åˆ°å¦‚ä¸‹çš„ç»“æœ:</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagesXnip2022-02-05_15-21-18.jpg"></p><p>æ­¤æ—¶, æˆ‘ä»¬çœ‹åˆ°multibase ä¸ºbase32.</p><p>ä¸ç®¡æ˜¯ v0 è¿˜æ˜¯ v1 çš„CID, å®ƒä»¬çš„æ‘˜è¦å€¼éƒ½æ˜¯C3C4â€¦31DE94391A, è¡¨ç¤ºç€åŒä¸€ä»½æ–‡ä»¶.</p><p>OK, åŸºæœ¬ç®—æ˜¯ç¼•å¾—å·®ä¸å¤šäº†, CIDçš„å†…å®¹å°±å…ˆåˆ°è¿™å•¦.</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI  wiki</a></p><p><a href="https://github.com/ipfs/go-ipfs">go-ipfs</a></p><p><a href="https://proto.school/anatomy-of-a-cid">Anatomy of a CID</a></p><p><a href="https://proto.school/content-addressing">content addressing</a></p><p><a href="https://github.com/multiformats/multicodec">multicodec</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ IPFS ç›¸å…³å†…å®¹çš„ç¬¬ä¸€ç¯‡, æ‰“ç®—èŠ±ç‚¹æ—¶é—´æŠŠä¹‹å‰è‡ªå·±åˆ· &lt;a href=&quot;https://proto.school/tutorials&quot;&gt;ProtoSchool&lt;/a&gt; ç³»åˆ—è¯¾ç¨‹æ‰€å­¦åˆ°çš„çŸ¥è¯†æ¢³ç†ä¸‹.&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç¯‡å°±ä» CID å¼€å§‹å§. &lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="IPFS" scheme="http://lupeipei.github.io/tags/IPFS/"/>
    
  </entry>
  
  <entry>
    <title>Traefik æ”¹ç”¨ acme.sh ä¸ºåŸŸåç”Ÿæˆè¯ä¹¦</title>
    <link href="http://lupeipei.github.io/posts/using-acme-sh-to-generate-certs-for-tls-in-traefik/"/>
    <id>http://lupeipei.github.io/posts/using-acme-sh-to-generate-certs-for-tls-in-traefik/</id>
    <published>2022-02-23T10:21:58.000Z</published>
    <updated>2022-02-23T10:40:47.471Z</updated>
    
    <content type="html"><![CDATA[<p>Traefik è¸©å‘è®°å½•.</p><span id="more"></span> <p>Traefik å¯ä»¥é…ç½®è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦çš„ ACME ä¾›åº”å•†, æ¯”å¦‚Letâ€™s Encrypt.</p><p>å®˜æ–¹æ–‡æ¡£æåˆ°ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦. ä½†å®é™…æƒ…å†µæ˜¯, åˆ°æœŸäº†è¯ä¹¦æœ‰æ—¶å¹¶æ²¡æœ‰æ›´æ–°, å¯¼è‡´å‡ºç°è¯ä¹¦è¿‡æœŸçš„æƒ…å†µ. </p><p>è¿™é‡Œè®°å½•ä¸‹åœ¨æœåŠ¡å™¨ä¸Šé…ç½® Traefik æ—¶, æ”¹ç”¨ acme.sh æ¥ç­¾è¯ä¹¦å¹¶è‡ªåŠ¨æ›´æ–°çš„æ­¥éª¤. </p><h4 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h4><p>é»˜è®¤æœåŠ¡å™¨ä¸ºUbuntu, traefik å·²å¯ç”¨, å¯¹åº”çš„docker-compose.yml å­˜æ”¾åœ¨/opt/globalç›®å½•ä¸‹.</p><p>å…¶ä¸­<code>/opt/global/docker-compose.yml</code> çš„å…·ä½“å†…å®¹å¦‚ä¸‹.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">traefik:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">traefik:v2.2</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">&quot;traefik&quot;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;443:443&quot;</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">       <span class="bullet">-</span> <span class="string">my_proxy</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./traefik.toml:/traefik.toml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./providers:/providers</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./acme.json:/acme.json</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">my_proxy:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŒ‚è½½äº†/opt/global ç›®å½•ä¸‹çš„ <code>traefik.toml</code>, è¯¥æ–‡ä»¶å­˜æ”¾äº†ä¸€äº›é»˜è®¤çš„é…ç½®, å†…å®¹å¦‚ä¸‹:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">[<span class="string">entryPoints</span>]</span><br><span class="line">  [<span class="string">entryPoints.web</span>]</span><br><span class="line">    <span class="string">address</span> <span class="string">=</span> <span class="string">&quot;:80&quot;</span></span><br><span class="line"></span><br><span class="line">  [<span class="string">entryPoints.websecure</span>]</span><br><span class="line">    <span class="string">address</span> <span class="string">=</span> <span class="string">&quot;:443&quot;</span></span><br><span class="line"></span><br><span class="line">  [<span class="string">entryPoints.traefik</span>]</span><br><span class="line">    <span class="string">address</span> <span class="string">=</span> <span class="string">&quot;:8080&quot;</span></span><br><span class="line"></span><br><span class="line">[<span class="string">api</span>]</span><br><span class="line">  <span class="string">insecure</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line">  <span class="string">dashboard</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[<span class="string">log</span>]</span><br><span class="line">  <span class="string">level=</span> <span class="string">&quot;DEBUG&quot;</span></span><br><span class="line"></span><br><span class="line">[<span class="string">certificatesResolvers</span>]</span><br><span class="line">  [<span class="string">certificatesResolvers.lets-encrypt</span>]</span><br><span class="line">    [<span class="string">certificatesResolvers.lets-encrypt.acme</span>]</span><br><span class="line">      <span class="string">email</span> <span class="string">=</span> <span class="string">&quot;myEmail@gmail.com&quot;</span></span><br><span class="line">      <span class="string">storage</span> <span class="string">=</span> <span class="string">&quot;acme.json&quot;</span></span><br><span class="line">    [<span class="string">certificatesResolvers.lets-encrypt.acme.tlsChallenge</span>]</span><br><span class="line"></span><br><span class="line">[<span class="string">providers.docker</span>]</span><br><span class="line">  <span class="string">watch</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line">  <span class="string">exposedByDefault=false</span></span><br><span class="line">  <span class="string">network</span> <span class="string">=</span> <span class="string">&quot;my_proxy&quot;</span></span><br><span class="line"></span><br><span class="line">[<span class="string">providers.file</span>]</span><br><span class="line">  <span class="string">watch</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line">  <span class="string">directory=&quot;/providers&quot;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªè¯ä¹¦è§£æå™¨ (certificatesResolvers)  lets-encrypt. </p><p>è€Œ æˆ‘ä»¬éœ€è¦ä½¿ç”¨ acme.sh ç”Ÿæˆè¯ä¹¦çš„ Webé¡¹ç›®, å­˜æ”¾åœ¨/opt/web/ ä¸‹, å…¶ <code>docker-compose.yml</code> å†…å®¹å¦‚ä¸‹:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my-web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-docker-image</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="string">......</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.enable=true&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web-http.rule=Host(`example.com`, `api.example.com`) &amp;&amp; PathPrefix(`/`)&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web-http.entrypoints=web&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web-http.middlewares=my-web-https&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.middlewares.my-web-https.redirectscheme.scheme=https&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web.rule=Host(`example.com`, `api.example.com`) &amp;&amp; PathPrefix(`/`)&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web.entrypoints=websecure&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web.tls.certresolver=lets-encrypt&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.services.my-web-http.loadbalancer.server.port=80&quot;</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my_proxy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">my_proxy:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°, æˆ‘ä»¬ç»™ web é…ç½®çš„ certresolver é…ç½®ä¸ºä¹‹å‰å®šä¹‰çš„ lets-encrypt. </p><p> å¦‚æœæŸ¥çœ‹ <code>acme.json</code> æ–‡ä»¶, ä½ ä¼šçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹å†…å®¹, Certificates éƒ¨åˆ†æœ‰æˆ‘ä»¬çš„ <code>example.com</code> åŠå­åŸŸå<code>api.example.com</code>  :</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;lets-encrypt&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;Account&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;Email&quot;</span>: <span class="string">&quot;myEmail@gmail.com&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Registration&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;body&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;status&quot;</span>: <span class="string">&quot;valid&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;contact&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;mailto:myEmail@gmail.com&quot;</span></span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;uri&quot;</span>: <span class="string">&quot;https://acme-v02.api.letsencrypt.org/acme/acct/xxxxx&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;PrivateKey&quot;</span>: <span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">       <span class="attr">&quot;KeyType&quot;</span>: <span class="string">&quot;4096&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;Certificates&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;domain&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;example.com&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sans&quot;</span>: [<span class="string">&quot;api.example.com&quot;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;certificate&quot;</span>:<span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;xxxxxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;store&quot;</span>: <span class="string">&quot;default&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;domain&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;example1.com&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;certificate&quot;</span>:<span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;xxxxxx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;store&quot;</span>: <span class="string">&quot;default&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      .........</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><p>æ­¤æ—¶, ç½‘ç«™æ­£å¸¸è®¿é—®.</p><p>ç°åœ¨æˆ‘ä»¬æ¥æ›´æ”¹ <code>example.com</code> çš„ tls é…ç½®, è¯ä¹¦æ”¹ç”¨ acme.sh æ¥ç­¾å‘.</p><h4 id="æ”¹ç”¨-acme-sh"><a href="#æ”¹ç”¨-acme-sh" class="headerlink" title="æ”¹ç”¨ acme.sh"></a>æ”¹ç”¨ acme.sh</h4><p>acme éªŒè¯çš„ä¸»è¦æ–¹å¼æ˜¯ standalone å’Œ webroot.</p><p>é‰´äº standalone éœ€è¦å ç”¨80æˆ–è€…443ç«¯å£, å¯¼è‡´éœ€è¦æš‚åœæœåŠ¡å™¨,è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ webroot æ–¹å¼æ¥éªŒè¯åŸŸå.</p><p> webroot æ¨¡å¼ä¸‹, acme ä¼šåœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä¸´æ—¶å­ç›®å½• <code>.well-known/acme-challenge</code>ï¼Œç„¶åæœåŠ¡å™¨ä¼šå‘è¿™ä¸ªè·¯å¾„å‘è¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æˆåŠŸï¼Œåˆ™éªŒè¯é€šè¿‡, éšåä¼šåˆ é™¤æ‰è¿™ä¸ªä¸´æ—¶ç›®å½•. </p><p>æˆ‘ä»¬å°†æ ¹ç›®å½•web root é»˜è®¤ä¸º /var/www, åŒæ—¶åœ¨å½“å‰ç›®å½•ä¸‹, æ–°å¢ä¸¤ä¸ªæ–‡ä»¶å¤¹, ç”¨æ¥åˆ†åˆ«æŒ‚è½½ /var/www å’Œ /acme.sh ç›®å½•.</p><p>/opt/global/ ç›®å½•ä¸‹, æ–°å»ºæ–‡ä»¶ <code>docker-compose.acme.sh.yml</code>, å†…å®¹å¦‚ä¸‹:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">acme.sh:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">neilpang/acme.sh:3.0.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">acme.sh</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx:/var/www</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./acme.sh:/acme.sh</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">daemon</span></span><br></pre></td></tr></table></figure><p>æ–°å¢æ–‡ä»¶å¤¹:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir nginx acme.sh</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„è¯ä¹¦ä¼šå­˜æ”¾åœ¨acme.sh ç›®å½•ä¸­, è€Œ nginx ç›®å½•ç”¨äºéªŒè¯åŸŸå.</p><p>è¿™é‡Œæˆ‘ä»¬èµ·ä¸€ä¸ªnginx æœåŠ¡, ä½¿å¾— traefik å°†æ‰€æœ‰åŒ¹é… <code>/.well-known</code> çš„è·¯å¾„è¯·æ±‚éƒ½è½¬å‘åˆ°è¿™ä¸ªnginx ä¸Š. åŒæ—¶, å°†å½“å‰ç›®å½•ä¸‹çš„ nginx ç›®å½•æŒ‚è½½åˆ° nginx æœåŠ¡çš„é™æ€æ–‡ä»¶é»˜è®¤åœ°å€ <code>/usr/share/nginx/html</code> . </p><p>è¿™æ ·, å½“ä½¿ç”¨ webroot æ¨¡å¼éªŒè¯åŸŸåæ—¶, acme.sh å°±ä¼šåœ¨ <code>/opt/global/nginx</code> ç›®å½•ä¸‹,ç”Ÿæˆä¸´æ—¶å­ç›®å½• <code>.well-known/acme-challenge</code>, è€ŒéªŒè¯æ—¶, è®¿é—® <code>/usr/share/nginx/html</code>, ä¹Ÿå°±æ˜¯è®¿é—®æˆ‘ä»¬çš„ <code>/opt/global/nginx</code> ç›®å½•.</p><p>æˆ‘ä»¬æ–°å¢æ–‡ä»¶ <code>/opt/global/docker-compose.nginx.yml</code> , æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.enable=true&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.global-nginx.rule=HostRegexp(`&#123;catch_all:.*&#125;`) &amp;&amp; PathPrefix(`/.well-known`)&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.global-nginx.priority=999&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.services.global-nginx.loadbalancer.server.port=80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx:/usr/share/nginx/html</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my_proxy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">my_proxy:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æä¸€ä¸‹.</p><p>æˆ‘ä»¬ç»™ nginx æœåŠ¡é…ç½® traefik æ—¶,  è®¾ç½®äº†priorityçš„å€¼ä¸º999. é»˜è®¤æƒ…å†µä¸‹,  traefik ä¸­è·¯å¾„çš„ priorityæ˜¯æ ¹æ®ruleçš„é•¿åº¦æ¥å†³å®šçš„. è¿™é‡Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰å¸¦æœ‰ <code>/.well-known</code> çš„è¯·æ±‚éƒ½è½¬å‘åˆ°è¿™ä¸ª nginx ä¸Š, æ‰€ä»¥æ‰‹åŠ¨è®¾ç½®äº†999.</p><p>å¯åŠ¨ nginx:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose --file docker-compose.nginx.yml up -d</span><br></pre></td></tr></table></figure><p>nginx å¯åŠ¨å, æˆ‘ä»¬å¯åŠ¨ acme.sh.</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose --file docker-compose.acme.sh.yml up -d</span><br></pre></td></tr></table></figure><p>å¼€å§‹ç­¾è¯ä¹¦å•¦.</p><p>ç¬¬ä¸€æ¬¡ä½¿ç”¨acme.shæ—¶, éœ€è¦æ³¨å†Œç”¨æˆ·é‚®ç®±:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker exec -it acme.sh sh -l</span><br><span class="line">acme.sh --register-account -m myEmail@gmail.com</span><br><span class="line">acme.sh --issue -d example.com -d api.example.com --webroot /var/www</span><br></pre></td></tr></table></figure><p>æ­£å¸¸æƒ…å†µä¸‹, ä¼šä¸€åˆ‡é¡ºåˆ©. é»˜è®¤CAæ˜¯ZeroSSL.com</p><p>å¦‚æœ acme.sh ç­¾å‘è¯ä¹¦æ—¶ Timeoutäº†, è¯·è®¾ç½®ä»£ç†. </p><h4 id="æ›´æ–°é…ç½®"><a href="#æ›´æ–°é…ç½®" class="headerlink" title="æ›´æ–°é…ç½®"></a>æ›´æ–°é…ç½®</h4><p>è¯ä¹¦ç­¾å‘æˆåŠŸå, æˆ‘ä»¬æŸ¥çœ‹ <code>/opt/global/acme.sh/example.com</code> ç›®å½•, ä¼šçœ‹åˆ°åˆšåˆšç”Ÿæˆçš„è¯ä¹¦.</p><p>ç°åœ¨, æˆ‘ä»¬æŠŠæ–°é²œå‡ºç‚‰çš„è¯ä¹¦ç”¨èµ·æ¥.</p><p>ä¿®æ”¹ <code>/opt/global/docker-compose.yml</code> , å°† <code>/opt/global/acme.sh</code> ç›®å½•æŒ‚è½½åˆ° traefik ä¸­:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">traefik:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">traefik:v2.2</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">&quot;traefik&quot;</span></span><br><span class="line">    <span class="string">......</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./traefik.toml:/traefik.toml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./providers:/providers</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./acme.json:/acme.json</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./acme.sh:/acme.sh</span></span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨traefik çš„åŠ¨æ€é…ç½®ä¸­æŠŠè¯ä¹¦æ”¾è¿›å».</p><p>åœ¨ <code>/opt/global/providers</code> ç›®å½•ä¸‹, æ–°å¢ <code>example_com_certs.toml</code> æ–‡ä»¶, å†™å…¥æˆ‘ä»¬çš„è¯ä¹¦è·¯å¾„:</p><figure class="highlight toml"><table><tr><td class="code"><pre><span class="line"><span class="section">[[tls.certificates]]</span></span><br><span class="line">  <span class="attr">certFile</span> = <span class="string">&quot;/acme.sh/example.com/fullchain.cer&quot;</span></span><br><span class="line">  <span class="attr">keyFile</span> = <span class="string">&quot;/acme.sh/example.com/example.com.key&quot;</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶, æˆ‘ä»¬éœ€è¦å°† <code>/opt/global/acme.json</code> æ–‡ä»¶ä¸­ Certificates éƒ¨åˆ†, æœ‰å…³ example.com çš„è¯ä¹¦å†…å®¹åˆ é™¤.</p><p>æœ€å, ä¿®æ”¹ <code>/opt/web/docker-compose.yml</code>, æŠŠtls éƒ¨åˆ†çš„é…ç½®, æ”¹ä¸ºoptions=default.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my-web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-docker-image</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="string">......</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">    <span class="string">......</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web.entrypoints=websecure&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.routers.my-web.tls.options=default&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;traefik.http.services.my-web-http.loadbalancer.server.port=80&quot;</span></span><br></pre></td></tr></table></figure><p>é‡å¯ traefik.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker restart traefik</span><br></pre></td></tr></table></figure><p>å†æ¬¡è¯·æ±‚ <a href="https://example.com/">https://example.com</a>, ä¼šå‘ç°è¯ä¹¦å·²ç»ç­¾æˆç”±ZeroSSL é¢å‘çš„è¯ä¹¦. </p><p>æ›¿æ¢å®Œæˆ. æ’’èŠ±! ğŸ¥³</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://doc.traefik.io/traefik/">traefik doc</a></p><p><a href="https://doc.traefik.io/traefik/https/acme/">traefick: letâ€™s Encrypt</a></p><p><a href="https://github.com/acmesh-official/acme.sh">acme.sh</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Traefik è¸©å‘è®°å½•.&lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="Acme" scheme="http://lupeipei.github.io/tags/Acme/"/>
    
      <category term="Traefik" scheme="http://lupeipei.github.io/tags/Traefik/"/>
    
  </entry>
  
  <entry>
    <title>Using Puppeteer with executablePath in Electron</title>
    <link href="http://lupeipei.github.io/posts/using-puppeteer-with-executablePath-in-electron/"/>
    <id>http://lupeipei.github.io/posts/using-puppeteer-with-executablePath-in-electron/</id>
    <published>2022-02-15T08:31:40.000Z</published>
    <updated>2022-02-22T06:37:44.224Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½• Electron è¸©å‘è¿‡ç¨‹.</p><span id="more"></span> <h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>ä½¿ç”¨ Electron åˆ›å»ºæ¡Œé¢åº”ç”¨, ç¨‹åºä¸­è°ƒç”¨äº† <a href="https://github.com/puppeteer/puppeteer">puppeteer</a>,  å¼€å‘ç¯å¢ƒä¸‹ä¸€åˆ‡æ­£å¸¸, ä½¿ç”¨ electron-builder åœ¨Macä¸Šæ‰“åŒ…æˆ Windowsä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶å, ç¨‹åºåœ¨Windowsä¸Šè·‘æ—¶ä¸€ç›´å¡ç€ä¸åŠ¨.</p><p>Debugåå‘ç°ä¸€ç›´å¡åœ¨ <code>puppeteer.launch</code> .</p><p>ç¯å¢ƒ:</p><p>puppeteer: 13.0.1</p><p>electron: 17.0.0</p><p>electron-builder: 22.10.4</p><p>node: 12.22.3</p><p>yarn: 1.22.10</p><h4 id="è§£å†³æ€è·¯"><a href="#è§£å†³æ€è·¯" class="headerlink" title="è§£å†³æ€è·¯"></a>è§£å†³æ€è·¯</h4><p>Debugåå‘ç°é—®é¢˜çš„æ ¹æºåœ¨äº MacOS ä¸Šæ‰“åŒ…æ—¶,  node_module ä¸­ puppeteer çš„Chrome, æ˜¯é€‚é…MacOSç³»ç»Ÿç‰ˆæœ¬çš„, è¿™ä¸ªChrome åœ¨ Windowsä¸‹è‚¯å®šæ˜¯æ— æ³•æ­£å¸¸è¿è¡Œçš„.</p><p>å‚è€ƒ<a href="https://github.com/puppeteer/puppeteer/issues/2134">puppeteer issue: run from electron</a> ä¸­, scriptify çš„å›å¤:</p><p><img src="https://raw.githubusercontent.com/Lupeipei/blogImages/master/imagespuppeteer.jpg"></p><p>è‡ªå·±å†™ä¸€ä¸ªè„šæœ¬, æœ¬åœ°ä¸‹è½½ä¸ªWindowsç‰ˆæœ¬çš„chrome, ç„¶åæ‰“åŒ…è¿›å», <code>puppeteer.launch</code> æ—¶æŒ‡å®š executablePath.</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸‹è½½ chrome.</span></span><br><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">&#x27;puppeteer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span>() =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> browserFetcher = puppeteer.createBrowserFetcher(&#123; <span class="attr">platform</span>: <span class="string">&quot;win32&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">const</span> revisionInfo = <span class="keyword">await</span> browserFetcher.download(<span class="string">&#x27;533271&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(revisionInfo)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§ scriptify ç»™çš„æ–¹æ³•, ä¿®æ”¹package.json:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;build&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;asar&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;asarUnpack&quot;</span>: <span class="string">&quot;node_modules/puppeteer/.local-chromium/win32-533271/**/*&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è°ƒç”¨ <code>puppeteer.launch</code> çš„åœ°æ–¹:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> homeDir = puppeteer.executablePath().split(<span class="string">&#x27;app.asar&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">const</span> executablePath = homeDir.concat(<span class="string">&quot;app.asar.unpacked\\node_modules\\puppeteer\\.local-chromium\\win32-533271\\chrome-win32\\chrome.exe&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.launch(&#123; <span class="attr">executablePath</span>: executablePath, <span class="attr">args</span>: [ <span class="string">&quot;--disable-gpu&quot;</span>, <span class="string">&quot;--disable-dev-shm-usage&quot;</span>, <span class="string">&quot;--disable-setuid-sandbox&quot;</span>, <span class="string">&quot;--no-sandbox&quot;</span> ] &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯¡å¼‚çš„æ˜¯, æ‰“åŒ…åæ‰”è¿› Windowsé‡Œé¢è¿è¡Œ, å‘ç° Chrome.exe æ–‡ä»¶æ˜¯å­˜åœ¨çš„. ä½†æ˜¯ puppeteer ä¾ç„¶æ²¡æœ‰æˆåŠŸè¿è¡Œ.</p><p>æœ€åæ— å¥ˆ, ç›´æ¥æ¢æˆ åœ¨Windowsä¸‹æ‰“åŒ…, åŒæ—¶æŒ‡å®š executablePath.é—®é¢˜è§£å†³.</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://github.com/puppeteer/puppeteer/issues/2134">puppeteer issue: run from electron</a></p><p><a href="https://yrq110.me/post/front-end/the-right-way-to-use-puppeteer-in-electron/">é…ç½®Electronä¸­Puppeteer executablePathçš„æ­£ç¡®å§¿åŠ¿</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½• Electron è¸©å‘è¿‡ç¨‹.&lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="ErrorTracking" scheme="http://lupeipei.github.io/tags/ErrorTracking/"/>
    
      <category term="Electron" scheme="http://lupeipei.github.io/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>As I began to love myself</title>
    <link href="http://lupeipei.github.io/posts/as-I-began-to-love-myself/"/>
    <id>http://lupeipei.github.io/posts/as-I-began-to-love-myself/</id>
    <published>2022-02-13T13:53:12.000Z</published>
    <updated>2022-02-13T14:04:12.091Z</updated>
    
    <content type="html"><![CDATA[<p>è¯»åˆ°ä¸€é¦–ä¸é”™çš„ç°ä»£è¯—, åˆ†äº«ä¸‹ ^_^</p><span id="more"></span><p>As I began to love myself,<br>I found that anguish and emotional suffering are only warning signs that I was living against my own truth.<br>Today, I know, this is â€œauthenticityâ€.</p><p>As I began to love myself,<br>I understood how much it can offend somebody,<br>As I try to force my desires on this person, even though I knew the time was not right and the person was not ready for it, and even though this person was me.<br>Today I call it â€œrespectâ€.</p><p>As I began to love myself,<br>I stopped craving for a different life, and I could see that everything that surrounded me was inviting me to grow.<br>Today I call it â€œmaturityâ€.</p><p>As I began to love myself,<br>I understood that at any circumstance, I am in the right place at the right time, and everything happens at the exactly right moment.<br>So I could be calm.<br>Today I call it â€œself-confidenceâ€.</p><p>As I began to love myself,<br>I quit steeling my own time, and I stopped designing huge projects for the future.<br>Today, I only do what brings me joy and happiness, things I love to do and that make my heart cheer, and I do them in my own way and in my own rhythm.<br>Today I call it â€œsimplicityâ€.</p><p>As I began to love myself,<br>I freed myself of anything that is no good for my health â€“ food, people, things, situations, and everything that drew me down and away from myself.<br>At first I called this attitude a healthy egoism.<br>Today I know it is â€œlove of oneselfâ€.</p><p>As I began to love myself,<br>I quit trying to always be right, and ever since I was wrong less of the time.<br>Today I discovered that is â€œmodestyâ€.</p><p>As I began to love myself,<br>I refused to go on living in the past and worry about the future.<br>Now, I only live for the moment, where everything is happening.<br>Today I live each day, day by day, and I call it â€œfulfillmentâ€.</p><p>As I began to love myself,<br>I recognized that my mind can disturb me and it can make me sick.<br>But As I connected it to my heart, my mind became a valuable ally.<br>Today I call this connection â€œwisdom of the heartâ€.</p><p>We no longer need to fear arguments, confrontations or any kind of problems with ourselves or others.<br>Even stars collide, and out of their crashing new worlds are born.<br>Today I know â€œthat is lifeâ€.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯»åˆ°ä¸€é¦–ä¸é”™çš„ç°ä»£è¯—, åˆ†äº«ä¸‹ ^_^&lt;/p&gt;
    
    </summary>
    
      <category term="Life" scheme="http://lupeipei.github.io/categories/Life/"/>
    
    
      <category term="Life" scheme="http://lupeipei.github.io/tags/Life/"/>
    
      <category term="Poem" scheme="http://lupeipei.github.io/tags/Poem/"/>
    
  </entry>
  
  <entry>
    <title>electron ä»£ç†é…ç½®</title>
    <link href="http://lupeipei.github.io/posts/set-proxy-for-electron/"/>
    <id>http://lupeipei.github.io/posts/set-proxy-for-electron/</id>
    <published>2022-02-07T12:10:53.000Z</published>
    <updated>2022-02-07T12:27:02.284Z</updated>
    
    <content type="html"><![CDATA[<p>è¸©äº†ä¸¤æ¬¡å‘, è®°å½•ä¸‹.</p><span id="more"></span><h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>node version: v12.22.3<br>yarn version: 1.22.10</p><p>ç»ˆç«¯æ‰§è¡Œ:</p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">yarn <span class="built_in">add</span> <span class="comment">--dev electron</span></span><br></pre></td></tr></table></figure><p>ä¸€ç›´æŠ¥é”™:</p><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">Output:</span></span><br><span class="line"><span class="symbol">RequestError:</span> read ETIMEDOUT</span><br></pre></td></tr></table></figure><p>å·²ç»è®¾ç½®äº†ä»£ç†, æ— æ•ˆ:</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https_proxy=http:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">7890</span></span><br><span class="line">http_proxy=http:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">7890</span></span><br><span class="line">all_proxy=socks5:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">7891</span></span><br></pre></td></tr></table></figure><h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>å‚è€ƒ <a href="https://www.electronjs.org/docs/latest/tutorial/installation#proxies">Advanced Installation Instructions</a>, node 10+éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡.<br><code>GLOBAL_AGENT_ENVIRONMENT_VARIABLE_NAMESPACE</code> é‡‡ç”¨é»˜è®¤å€¼<code>GLOBAL_AGENT_</code></p><p>åˆ†åˆ«è®¾ç½® <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>:</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">GLOBAL_AGENT_HTTP_PROXY</span>=http://127.0.0.1:7890</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">GLOBAL_AGENT_HTTPS_PROXY</span>=http://127.0.0.1:7890</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">ELECTRON_GET_USE_PROXY</span>=1</span><br></pre></td></tr></table></figure><p>é‡æ–°æ‰§è¡Œ:</p><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">yarn <span class="built_in">add</span> <span class="comment">--dev electron</span></span><br></pre></td></tr></table></figure><p>OK.</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://www.electronjs.org/docs/latest/tutorial/installation#proxies">Advanced Installation Instructions</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¸©äº†ä¸¤æ¬¡å‘, è®°å½•ä¸‹.&lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="ErrorTracking" scheme="http://lupeipei.github.io/tags/ErrorTracking/"/>
    
      <category term="Electron" scheme="http://lupeipei.github.io/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Operator Pending Mappings</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-operator-pending-mappings/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-operator-pending-mappings/</id>
    <published>2022-01-13T13:37:12.000Z</published>
    <updated>2022-01-13T13:41:55.207Z</updated>
    
    <content type="html"><![CDATA[<p>å‰é¢ä»‹ç» mapping çš„æ—¶å€™, ç•™äº†ä¸ªoperator-pending çš„å‘, ç°åœ¨æ¥å¡«. </p><p>å®˜æ–¹æ–‡æ¡£ä¸­, å¯¹ Operator-pending mappings çš„è§£é‡Šæ˜¯:</p><blockquote><p>Operator-pending mappings can be used to define a movement command that can be<br>used with any operator. </p></blockquote><p>Operator-pending mappings å¯ä»¥ç”¨äºå®šä¹‰ä¼šè¢«æ‰§è¡Œçš„ç§»åŠ¨æŒ‡ä»¤.[æˆ‘è¿™ç¿»è¯‘çš„â€¦]</p><p>çœ‹ä¸ªç®€å•çš„ä¾‹å­æ¥ç†è§£.</p><p>æ‰“å¼€æ–‡ä»¶test.txt, å†…å®¹å¦‚ä¸‹:</p><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">This <span class="keyword">is</span> (<span class="keyword">some</span>) <span class="built_in">text</span> <span class="keyword">about</span> topic one.</span><br><span class="line"></span><br><span class="line">It has multiple (<span class="built_in">paragraphs</span>).</span><br><span class="line">part1(<span class="built_in">paragraph</span>) content.</span><br><span class="line">part2(<span class="built_in">paragraph</span>) content.</span><br><span class="line">part3(<span class="built_in">paragraph</span>) content.</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å‘½ä»¤æ¨¡å¼ä¸‹, æ‰§è¡Œ:</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line">:<span class="selector-tag">onoremap</span> <span class="selector-tag">p</span> <span class="selector-tag">i</span>(</span><br></pre></td></tr></table></figure><p>è¿™æ—¶, åœ¨ normal æ¨¡å¼ä¸‹, æŒ‰<code>dp</code>, ç­‰åŒäº<code>di(</code>, å³åˆ é™¤<code>()</code> é‡Œçš„å†…å®¹.</p><p>è¿™é‡Œé»˜è®¤ä»å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®, å¾€ä¸‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ª<code>()</code>, ç„¶åæ‰§è¡Œæ“ä½œ.</p><p>æ¯”å¦‚, æˆ‘ä»¬æŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸‰è¡Œ It hasâ€¦â€¦, æŒ‰<code>dp</code>,  ä¼šå‘ç° paragraphs è¢«åˆ é™¤äº†.</p><p>å½“å…‰æ ‡åœç•™åœ¨æœ€åä¸€è¡Œ end, æŒ‰<code>dp</code>, å‘ç°æ— æ•ˆ.</p><p>å¦‚æœæƒ³è¦æ¶ˆé™¤å…‰æ ‡æ‰€åœ¨ä½ç½®, å°±éœ€è¦ä½¿ç”¨<code>&lt;C-u&gt;</code> CTRL-u.</p><p>æ¥çœ‹ä¸ªä¾‹å­:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:onoremap i( :&lt;C-u&gt;normal!</span> 0f)vi(&lt;CR&gt;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶, æŒ‰<code>di(</code>, ä¸ç®¡å…‰æ ‡åœ¨å“ªé‡Œ, ä¼šåˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ª<code>()</code> ä¸­çš„å†…å®¹.</p><p>é‰´äº Operator-pending mappings æˆ‘å¹³æ—¶ç”¨åˆ°çš„å¾ˆå°‘, ä¹Ÿæ²¡æœ‰ç»†ç»†ç ”ç©¶, ç›®å‰å°±ä¸å¤šæ‰¯äº†.</p><p>æƒ³è¦äº†è§£æ›´å¤š, å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£:</p><figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line">:h omap-<span class="meta">info</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰é¢ä»‹ç» mapping çš„æ—¶å€™, ç•™äº†ä¸ªoperator-pending çš„å‘, ç°åœ¨æ¥å¡«. &lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£ä¸­, å¯¹ Operator-pending mappings çš„è§£é‡Šæ˜¯:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Operator-pending map
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>status lines</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-statusline/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-statusline/</id>
    <published>2022-01-10T07:48:42.000Z</published>
    <updated>2022-01-10T07:54:21.359Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥çœ‹çœ‹å¦‚ä½•è‡ªå®šä¹‰çŠ¶æ€æ æ˜¾ç¤º.</p><p>Statusline æ˜¯ Vim çš„ä¸€ä¸ª option, å¯é€šè¿‡:</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">:<span class="builtin-name">set</span> statusline?</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å½“å‰çš„ statusline é…ç½®.</p><p>å½“ç„¶, æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰çŠ¶æ€æ çš„æ˜¾ç¤ºå†…å®¹.</p><p>æ‰“å¼€ä¸€ä¸ªMarkdown æ–‡ä»¶,  å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:set statusline=%f\ -\ FileType:\</span> %y</span><br></pre></td></tr></table></figure><p>ä¼šçœ‹åˆ°çŠ¶æ€æ æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼å†…å®¹:</p><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">foo<span class="selector-class">.md</span> - FileType: <span class="selector-attr">[markdown]</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ <code>%f</code>è¡¨ç¤ºå½“å‰æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„, <code>%y </code> è¡¨ç¤ºæ–‡ä»¶çš„ç±»å‹.</p><p>statusline çš„è®¾ç½®, æœ‰äº›ç±»ä¼¼ C é‡Œé¢çš„ printf.</p><p>å®ƒçš„é€šç”¨æ ¼å¼å¦‚ä¸‹:</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml">%-0</span><span class="template-variable">&#123;minwid&#125;</span><span class="xml">.</span><span class="template-variable">&#123;maxwid&#125;</span><span class="template-variable">&#123;item&#125;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­, é™¤äº†<code>%</code>  å’Œ <code>&#123;item&#125;</code>, å…¶ä»–éƒ½æ˜¯å¯é€‰çš„. è€Œ minwd, maxwid åˆ†åˆ«æŒ‡çš„æ˜¯æœ€å°å’Œæœ€å¤§å®½åº¦.</p><p>çœ‹å‡ ä¸ªç®€å•çš„ä¾‹å­å°±æ¸…æ¥šäº†.</p><p>æ˜¾ç¤ºè¡Œå·:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:set statusline=Current:\</span> %4l\ Total:\ %4L</span><br></pre></td></tr></table></figure><p>ä¼šçœ‹åˆ°çŠ¶æ€æ æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼å†…å®¹:</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Current</span>:    <span class="number">9</span> Total:   <span class="number">66</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè®¾ç½®äº†æœ€çŸ­é•¿åº¦4, é»˜è®¤ç”¨ç©ºæ ¼æ¥è¡¥å…¨.</p><p>å¯ä»¥è®¾ç½®ä¸ºç”¨0æ¥è¡¥å…¨:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:set statusline=Current:\</span> %04l\ Total:\ %04L</span><br></pre></td></tr></table></figure><p>çŠ¶æ€æ æ˜¾ç¤ºå¦‚ä¸‹:</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Current</span>: <span class="number">0009</span> Total: <span class="number">0066</span></span><br></pre></td></tr></table></figure><p>å†æ¯”å¦‚, æ˜¾ç¤ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„:</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">:<span class="builtin-name">set</span> <span class="attribute">statusline</span>=%.20F</span><br></pre></td></tr></table></figure><p>æ­¤å¤„, æœ€å¤§å®½åº¦è®¾ç½®ä¸º20, çŠ¶æ€æ æ˜¾ç¤ºå¦‚ä¸‹:</p><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;-<span class="keyword">on</span>-buffer-<span class="keyword">local</span>.md</span><br></pre></td></tr></table></figure><p>é€šè¿‡ <code>:h statusline</code> , å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ item åŠå…¶å¯¹åº”å«ä¹‰.</p><p>æ­¤å¤–, å¦‚æœ statusline æ˜¯ä»¥ <code>%!</code> å¼€å¤´, æ¯”å¦‚ <code>:set statusline=%!MyStatusLine()</code> , åˆ™è¡¨ç¤º<code>MyStatusLine()</code> æ˜¯ä¸ªè¡¨è¾¾å¼, è¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœæ‰æ˜¯ statusline å¯¹åº”çš„å€¼.</p><p>å¦‚æœä½ å®‰è£…äº†airline, å‘½ä»¤æ¨¡å¼è¾“å…¥:</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">:<span class="builtin-name">set</span> statusline?</span><br></pre></td></tr></table></figure><p>ä¼šçœ‹åˆ°è¾“å‡ºç»“æœ:</p><figure class="highlight leaf"><table><tr><td class="code"><pre><span class="line">statusline=%!airline<span class="function"><span class="keyword">#</span><span class="title">statusline</span><span class="params">(1)</span></span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±æ˜¯ä½¿ç”¨äº†<code>%!</code>.</p><p>ä¹¦ä¸­è¿˜ä»‹ç»äº†<code>%=</code>, ç”¨äºå¯¹é½, è¿™é‡Œå°±ç•¥è¿‡äº†.</p><p>OK, æœ¬èŠ‚ç»“æŸ, æˆ‘å»åƒç‚¹å¥½åƒçš„å¥–åŠ±ä¸‹è‡ªå·±è¿˜æ²¡å¼ƒå‘ğŸ˜‹</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ¥çœ‹çœ‹å¦‚ä½•è‡ªå®šä¹‰çŠ¶æ€æ æ˜¾ç¤º.&lt;/p&gt;
&lt;p&gt;Statusline æ˜¯ Vim çš„ä¸€ä¸ª option, å¯é€šè¿‡:&lt;/p&gt;
&lt;figure class=&quot;highlight routeros&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span cla
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>autocmd</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-autocmd/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-autocmd/</id>
    <published>2021-12-31T09:31:55.000Z</published>
    <updated>2022-01-10T07:48:31.210Z</updated>
    
    <content type="html"><![CDATA[<p>autocmd ç”¨äºé…ç½®å½“æŸä¸ªç¡®å®šäº‹ä»¶å‘ç”Ÿæ—¶, è¦æ‰§è¡Œçš„å‘½ä»¤.</p><p>å€Ÿç”¨ä¹¦ä¸­çš„ä¾‹å­, çœ‹ä¸€ä¸‹ autocmd çš„åŸºæœ¬ç»“æ„:</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:autocmd BufWritePre,BufRead *.html :normal</span> gg=G</span><br><span class="line"><span class="code">         ^                   ^      ^</span></span><br><span class="line"><span class="code">         |                   |      |</span></span><br><span class="line"><span class="code">         |                   |      éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line"><span class="code">         |                   |</span></span><br><span class="line"><span class="code">         |                   æ¨¡å¼, ç”¨æ¥è¿‡æ»¤äº‹ä»¶</span></span><br><span class="line"><span class="code">         |</span></span><br><span class="line"><span class="code">         ç›‘å¬çš„äº‹ä»¶</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œ BufWritePre, BufRead éƒ½æ˜¯éœ€è¦ç›‘å¬çš„äº‹ä»¶, *.html æ˜¯éœ€è¦è¿‡æ»¤çš„æ¨¡å¼, æ•´ä¸ªå‘½ä»¤çš„å«ä¹‰å°±æ˜¯, å½“å¼€å§‹å†™å…¥ html ç±»å‹æ–‡ä»¶æˆ–è€…ç¼–è¾‘ html ç±»å‹æ–‡ä»¶ä¹‹å‰, è‡ªåŠ¨æ‰§è¡Œ<code>:normal gg=G</code>, ä¹Ÿå°±æ˜¯ç¼©è¿›ä»£ç .</p><p>[æ­¤å¤„, BufWritePre æŒ‡çš„æ˜¯å¼€å§‹å°†æ•´ä¸ª Buffer å†™å…¥æ–‡ä»¶ , BufRead æŒ‡çš„æ˜¯è¯»æ–‡ä»¶å, å¼€å§‹ç¼–è¾‘. ]</p><p>é€šè¿‡<code>:h autocmd-events</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ä»¥ç»‘å®š Autocommands çš„äº‹ä»¶åˆ—è¡¨.</p><p>å…¶ä¸­, æœ€å¸¸ç”¨çš„ Event æ˜¯ FileType.</p><p>æ¯”å¦‚:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">autocmd</span> FileType javascript <span class="keyword">nnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;LocalLeader&gt;</span><span class="keyword">c</span> I//<span class="symbol">&lt;esc&gt;</span></span><br></pre></td></tr></table></figure><p>å½“æ‰“å¼€ä¸€ä¸ªjavascript (.js)æ–‡ä»¶æ—¶, æ‰§è¡Œ<code>nnoremap &lt;buffer&gt; &lt;LocalLeader&gt;c I//&lt;esc&gt;</code>, ä¹Ÿå°±æ˜¯æŒ‰ <code>&lt;LocalLeader&gt;c</code>  ä¼šæ·»åŠ æ³¨é‡Š.</p><p>è¿™é‡Œæä¸€ä¸ªç®€å•çš„åº”ç”¨.</p><p>Vimä¸­ç¼–è¾‘ json æ–‡ä»¶çš„æ—¶å€™, é»˜è®¤æ˜¯æ²¡æœ‰æ ¼å¼åŒ–çš„, å¦‚ä½•å®ç°æ‰“å¼€JSONæ–‡ä»¶æ—¶, è‡ªåŠ¨æ ¼å¼åŒ–å†…å®¹, æ–¹ä¾¿é˜…è¯»?</p><p>è¿™é‡Œè¯´ä¸€ä¸‹æˆ‘çš„åšæ³•.</p><p>å®‰è£… jq, é™„ä¸Šé“¾æ¥<a href="https://stedolan.github.io/jq/download/">download</a></p><p>ä¿®æ”¹ <code>.vimrc </code>, æ·»åŠ :</p><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">autocmd <span class="keyword">BufRead </span>*.<span class="keyword">json </span>%!<span class="keyword">jq </span><span class="string">&#x27;.&#x27;</span></span><br></pre></td></tr></table></figure><p>source å, æ‰“å¼€ json æ ¼å¼æ–‡ä»¶æ—¶, å¯ä»¥çœ‹åˆ°å·²ç»æ ¼å¼åŒ–äº†.</p><p>autocmd æœ‰ä¸€ä¸ªå…„å¼Ÿ augroup. å¯ä»¥æŠŠç›¸è¿‘çš„ autocmd æ”¾åœ¨ä¸€ä¸ªgroup ä¸­:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">augroup</span> testgroup</span><br><span class="line">  autocmd!</span><br><span class="line">  <span class="keyword">autocmd</span> BufWrite * :<span class="keyword">echom</span> <span class="string">&quot;Cats&quot;</span></span><br><span class="line"><span class="keyword">augroup</span> END</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨<code>autocmd!</code>  æ¥æ¸…ç†ä¹‹å‰çš„ autocmd è®¾ç½®.</p><p>augroup çš„ä½œç”¨, æ˜¯ç”¨æ¥é¿å…é‡å¤å®šä¹‰ autocmd. å®˜ç½‘æ–‡æ¡£ç»™åˆ°çš„è§£é‡Šæ˜¯:</p><blockquote><p>This prevents having the autocommands defined twice (e.g., after sourcing the .vimrc file again).</p></blockquote><p>ä¹¦ä¸­ä½¿ç”¨äº†ä¸€ä¸ª BufWrite + echom çš„ä¾‹å­æ¥è¯´æ˜ä½¿ç”¨ augroup å¯ä»¥é¿å…çš„é—®é¢˜, åŒæ–‡æ¡£æåˆ°çš„ä¸€è‡´, è¿™é‡Œå°±ä¸ç»†è¯´äº†.</p><p>é™„ä¸Šä¸€ä¸ªå°å°çš„tips. å¦‚æœä½ æœ‰æ‰§è¡Œ augroup çš„ä¾‹å­, ä¼šå‘ç° messages æœ‰äº›å¤š,  æƒ³è¦æ¸…ç†çš„è¯, å¯ä»¥ä½¿ç”¨<code>:messages clear</code></p><p>OK, æœ¬ç« ç»“æŸ.</p><p>Bye 2021.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;autocmd ç”¨äºé…ç½®å½“æŸä¸ªç¡®å®šäº‹ä»¶å‘ç”Ÿæ—¶, è¦æ‰§è¡Œçš„å‘½ä»¤.&lt;/p&gt;
&lt;p&gt;å€Ÿç”¨ä¹¦ä¸­çš„ä¾‹å­, çœ‹ä¸€ä¸‹ autocmd çš„åŸºæœ¬ç»“æ„:&lt;/p&gt;
&lt;figure class=&quot;highlight asciidoc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pr
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>hexo ä¸»é¢˜é­”æ”¹è®°å½•</title>
    <link href="http://lupeipei.github.io/posts/custom-hexo-next-theme/"/>
    <id>http://lupeipei.github.io/posts/custom-hexo-next-theme/</id>
    <published>2021-12-28T13:32:58.000Z</published>
    <updated>2021-12-28T13:39:12.493Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ªå·±æŠ˜è…¾äº†ä¸‹ Hexo çš„ next ä¸»é¢˜. ç»™ post æ·»åŠ äº†å­—æ®µ type. ä¸ºäº†é¿å…ä¸‹æ¬¡å´©äº†çš„æ—¶å€™, æˆ‘ä¼šå¯¹ç€è‡ªå·±å†™çš„ä»£ç ä¸€è„¸æ‡µé€¼, ç®€å•è®°å½•ä¸‹â€¦â€¦</p><span id="more"></span><p>æœ¬æ–‡åŸºäº hexo-theme-next version 5.</p><h4 id="é¦–é¡µåˆ†é¡µ"><a href="#é¦–é¡µåˆ†é¡µ" class="headerlink" title="é¦–é¡µåˆ†é¡µ"></a>é¦–é¡µåˆ†é¡µ</h4><p>é¢„æœŸæ•ˆæœ: åœ¨é¦–é¡µä¸æ˜¾ç¤º post ä¸­ type ä¸º book çš„æ–‡ç« </p><p>æ€è·¯: ä¿®æ”¹é¦–é¡µçš„åˆ†é¡µ, è¿‡æ»¤æ‰ type ä¸º book çš„æ–‡ç« .</p><p>å…·ä½“å®ç°:</p><p>å‚è€ƒ <a href="https://github.com/hexojs/hexo-generator-index">hexo-generator-index</a> ,  åœ¨ next çš„ scripts ä¸‹, æ·»åŠ æ–‡ä»¶ customIndexPagination.js, å†…å®¹å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">&#x27;hexo-pagination&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.extend.generator.register(<span class="string">&#x27;customIndexPagination&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  locals.posts.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">post</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  set post default type as post, è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (post.type == <span class="literal">undefined</span>) &#123;</span><br><span class="line">      post.type = <span class="string">&quot;post&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> config = <span class="built_in">this</span>.config;</span><br><span class="line">  <span class="keyword">const</span> posts = locals.posts.sort(config.index_generator.order_by);</span><br><span class="line">  <span class="comment">// filter posts with type == &quot;post&quot;, è¿‡æ»¤</span></span><br><span class="line">  <span class="keyword">const</span> postsWithoutbook = posts.find(&#123; <span class="string">&quot;type&quot;</span>: <span class="string">&quot;post&quot;</span> &#125;)</span><br><span class="line"></span><br><span class="line">  posts.data.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (b.sticky || <span class="number">0</span>) - (a.sticky || <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> paginationDir = config.pagination_dir || <span class="string">&#x27;page&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> path = config.index_generator.path || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pagination(path, postsWithoutbook, &#123;</span><br><span class="line">    <span class="attr">perPage</span>: config.index_generator.per_page,</span><br><span class="line">    <span class="attr">layout</span>: [<span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;archive&#x27;</span>],</span><br><span class="line">    <span class="attr">format</span>: paginationDir + <span class="string">&#x27;/%d/&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">__index</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="åˆ†ç±»æ’åº"><a href="#åˆ†ç±»æ’åº" class="headerlink" title="åˆ†ç±»æ’åº"></a>åˆ†ç±»æ’åº</h4><p>é¢„æœŸæ•ˆæœ: åŒä¸€ä¸ª category ä¸­, æ‰€æœ‰ type ä¸º book çš„ post æŒ‰ç…§æŒ‡å®šå­—æ®µæ’åºåå†åˆ†é¡µ.è¿™é‡ŒæŒ‰ç…§ ranked å­—æ®µæ¥æ’åº posts.</p><p>æ€è·¯: æ‰¾åˆ° pageä¸‹å¯¹åº”çš„category, æŒ‰ç…§ ranked å­—æ®µæ’åºå, è°ƒç”¨ slice å®ç°åˆ†é¡µ.</p><p>å…·ä½“å®ç°:</p><p>next version 5 çš„æ¨¡æ¿ç”¨çš„æ˜¯swig è¯­æ³•, <a href="https://github.com/paularmstrong/swig">swig</a>å·²ç»å¤šå¹´ä¸ç»´æŠ¤, è¿™ä¸ªç”¨èµ·æ¥è¿˜æ˜¯æŠ˜è…¾çš„.å¾ˆå¤šES6è¯­æ³•ä¸æ”¯æŒ. ç­‰åç»­æœ‰æ—¶é—´å†æŠ˜è…¾, ç›®å‰å‡‘åˆç”¨ç”¨swigâ€¦.</p><p>ä¿®æ”¹ layout/category.swig, åœ¨ Sectionéƒ¨åˆ†, æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;section id=&quot;posts&quot; class=&quot;posts-collapse&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;collection-title&quot;&gt;</span><br><span class="line">    &lt;h2 &gt;&#123;&#123; page.category &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">...........</span><br><span class="line"></span><br><span class="line">  &#123;% set current = page.current %&#125;</span><br><span class="line">  &#123;% set pre = current - 1 %&#125;</span><br><span class="line">  &#123;% set perPage = config.per_page %&#125;</span><br><span class="line">  &#123;% set category = site.categories.findOne(&#123; &quot;name&quot;: page.category &#125;) %&#125;</span><br><span class="line">  &#123;% set posts = category.posts.sort(&#x27;ranked&#x27;) %&#125;</span><br><span class="line">  &#123;% set bookPost = posts.find(&#123; type: &#x27;book&#x27; &#125;) %&#125;</span><br><span class="line">  &#123;% set hasBookPost = bookPost.length &gt; 0 %&#125;</span><br><span class="line">  &#123;% if hasBookPost %&#125;</span><br><span class="line">    &#123;% set posts = posts.slice(perPage * pre, perPage * current) %&#125;</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">    &#123;% set posts = page.posts %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;% for post in posts %&#125;</span><br><span class="line">    &#123;&#123; post_template.render(post) &#125;&#125;</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">  ..........</span><br></pre></td></tr></table></figure><p>é€»è¾‘å¾ˆç®€å•, ä¸»è¦è°ƒç”¨ slice æ¥å¾—åˆ°å½“å‰åˆ†é¡µä¸­çš„posts.</p><p>å…¶ä¸­ site.categories è°ƒç”¨äº†findOneæ¥æŸ¥æ‰¾å½“å‰é¡µé¢çš„category, å‚è€ƒçš„æ˜¯ <a href="https://hexojs.github.io/warehouse/index.html">warehouse</a>.</p><p>OK.</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://github.com/hexojs/hexo-pagination">hexo-pagination</a></p><p><a href="https://github.com/hexojs/hexo-generator-index">hexo-generator-index</a></p><p><a href="https://hexojs.github.io/warehouse/index.html">warehouse</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è‡ªå·±æŠ˜è…¾äº†ä¸‹ Hexo çš„ next ä¸»é¢˜. ç»™ post æ·»åŠ äº†å­—æ®µ type. ä¸ºäº†é¿å…ä¸‹æ¬¡å´©äº†çš„æ—¶å€™, æˆ‘ä¼šå¯¹ç€è‡ªå·±å†™çš„ä»£ç ä¸€è„¸æ‡µé€¼, ç®€å•è®°å½•ä¸‹â€¦â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="Hexo" scheme="http://lupeipei.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Buffer-Local</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-buffer-local/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-buffer-local/</id>
    <published>2021-12-28T01:34:51.000Z</published>
    <updated>2021-12-28T08:07:12.470Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸€ç« çš„å†…å®¹ç»“åˆäº†å‰é¢å­¦åˆ°çš„çŸ¥è¯†.</p><p>Buffer-Local, é¡¾åæ€ä¹‰, åŸºäº Buffer,  åªé’ˆå¯¹å½“å‰ Buffer æœ‰æ•ˆ.</p><p>å‰é¢é‡åˆ°çš„ mappings, options , abbreviations, å½“éœ€è¦åªå¯¹å½“å‰ Buffer ç”Ÿæ•ˆæ—¶, å‘½ä»¤åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢?</p><p>æ¥é€ä¸ªè¯´æ˜ä¸‹.</p><ul><li><p>mappings</p><p>æ‰“å¼€ä»»æ„æ–‡ä»¶, åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">nnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;Leader&gt;</span><span class="keyword">x</span> dd</span><br></pre></td></tr></table></figure><p>normal æ¨¡å¼ä¸‹, æŒ‰<code>&lt;Leader&gt;x</code>, ç­‰åŒäºdd, åˆ é™¤å½“å‰è¡Œ.</p><p>æ­¤æ—¶, å¦å¼€ä¸€ä¸ªæ–‡ä»¶, æ‰§è¡ŒåŒæ ·çš„æ“ä½œ, æŒ‰<code>&lt;Leader&gt;x</code> , æ²¡æœ‰å˜åŒ–.</p><p>Buffer-Local mappings è·Ÿé€šç”¨çš„ mappings ä¸ä¸€æ ·çš„åœ°æ–¹, å°±æ˜¯å¤šäº†ä¸€ä¸ª<code>&lt;buffer&gt;</code>, ä¹Ÿå¾ˆå¥½è®°.</p><p>éœ€è¦ç¨ç¨æ³¨æ„çš„æ˜¯, å½“ buffer ä¸<code>&lt;Leader&gt;</code> ç»“åˆæ—¶, å»ºè®®ä½¿ç”¨ <code>&lt;LocalLeader&gt;</code> æ¥ä»£æ›¿ <code>&lt;Leader&gt;</code>, è¿™æ ·é¿å…è¦†ç›–äº†ä»–äººçš„ <code>&lt;leader&gt;</code> mapping.</p><p>ä¸Šé¢çš„ä¾‹å­å»ºè®®æ”¹æˆ:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">nnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;LocalLeader&gt;</span><span class="keyword">x</span> dd</span><br></pre></td></tr></table></figure><p>å†çœ‹ä¸ªä¾‹å­:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">nnoremap</span> <span class="symbol">&lt;buffer&gt;</span> Q <span class="keyword">x</span></span><br><span class="line">:<span class="keyword">nnoremap</span>          Q dd</span><br></pre></td></tr></table></figure><p>normal æ¨¡å¼ä¸‹, æŒ‰ Q, å‘ç°æ‰§è¡Œçš„æ“ä½œç­‰åŒ x. ç¬¬äºŒä¸ª mapping é…ç½®æ— æ•ˆ.</p><p>Buffer-Local mappings ä¼šè¦†ç›–å¯¹åº”çš„é€šç”¨çš„ mappings é…ç½®.è¿™ç‚¹åŒ set options ä¸å¤§ä¸€æ ·, å¾…ä¼šä¼šæåˆ°.</p></li><li><p>set options</p><p>åŸºäº Buffer-Local çš„è®¾ç½®, ç”¨å‘½ä»¤ <code>setlocal</code>.</p><p> æ‰“å¼€ä»»æ„æ–‡ä»¶, åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line">:<span class="keyword">setlocal</span> nonumber</span><br></pre></td></tr></table></figure><p>ä¼šå‘ç°è¡Œå·å·²ç»æ¶ˆå¤±.</p><p>éœ€è¦æ³¨æ„çš„æ˜¯, å¦‚æœ setlocal option å, åˆ set äº†åŒä¸€ä¸ª option, åˆ™ setlocal æ‰€åšçš„æ”¹å˜ä¼šè¢«è¦†ç›–.</p><p>æ¯”å¦‚:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">setlocal</span> nonumber</span><br><span class="line">:<span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line">:<span class="keyword">setlocal</span> <span class="keyword">number</span>?</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¾“å‡ºçš„ç»“æœæ˜¯ number.</p></li><li><p>abbreviations</p><p>åŒ mappings, Buffer-Local abbreviations ä¹Ÿåªéœ€è¦åœ¨<code>abbrev</code> å, æ·»åŠ ä¸€ä¸ª<code>&lt;buffer&gt;</code>, çœ‹ä¸ªä¾‹å­:</p><p>åœ¨å½“å‰æ‰“å¼€çš„æ–‡ä»¶ä¸‹, å‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">iabbrev</span> <span class="symbol">&lt;buffer&gt;</span> <span class="built_in">log</span> logger.<span class="keyword">debug</span></span><br></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ° insert æ¨¡å¼, è¾“å…¥log, ä¼šæ›¿æ¢æˆ logger.debug.</p><p>æ­¤æ—¶, æ›´æ¢å¦ä¸€ä¸ªæ–‡ä»¶, å†æ¬¡åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥log, å‘ç°æ²¡æœ‰å˜åŒ–.</p><p>åŒ mappings ä¸€æ ·, Buffer-Local abbreviations ä¼šè¦†ç›–é€šç”¨çš„ abbreviations.</p><p>åˆšåˆšè®¾ç½®çš„æ–‡ä»¶ä¸­, å‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥:</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">:iabbrev <span class="keyword">log</span> logger.<span class="keyword">info</span></span><br></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ° insert æ¨¡å¼, è¾“å…¥log, æ›¿æ¢çš„ä»ç„¶æ˜¯ Buffer-local è®¾ç½®çš„ logger.debug.</p></li></ul><p>OK. Buffer-Local åŸºæœ¬ç¼•å®Œ, ä¸‹ä¸€ç« æ¥ç‚¹ä¸ä¸€æ ·çš„.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ä¸€ç« çš„å†…å®¹ç»“åˆäº†å‰é¢å­¦åˆ°çš„çŸ¥è¯†.&lt;/p&gt;
&lt;p&gt;Buffer-Local, é¡¾åæ€ä¹‰, åŸºäº Buffer,  åªé’ˆå¯¹å½“å‰ Buffer æœ‰æ•ˆ.&lt;/p&gt;
&lt;p&gt;å‰é¢é‡åˆ°çš„ mappings, options , abbreviations, å½“éœ€è¦åªå¯¹å½“å‰ Buffer 
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>Abbreviations</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-abbrev/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-abbrev/</id>
    <published>2021-12-23T14:01:41.000Z</published>
    <updated>2021-12-23T14:05:29.705Z</updated>
    
    <content type="html"><![CDATA[<p>Vim çš„ Abbreviations ç‰¹æ€§, åŒ mappings æœ‰äº›ç›¸ä¼¼, ä½†æ˜¯ä¸»è¦ç”¨äºæ’å…¥, æ›¿æ¢.</p><p>è¿™é‡ŒæŒ‰ç…§åŸä¹¦çš„æ€è·¯ç®€å•è¯´ä¸€ä¸‹åº”ç”¨.</p><p>å…ˆæ¥çœ‹ä¸ªä¾‹å­.</p><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">iabbrev</span> ned end</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨insert æ¨¡å¼ä¸‹, è¾“å…¥ ned åå›è½¦æˆ–è€…é€€å‡ºinsert æ¨¡å¼, ä¼šå‘ç° ned å·²ç»å˜æˆäº† end. [å¤šå˜´ä¸€å¥: ä¸ºä»€ä¹ˆæ˜¯insert æ¨¡å¼ä¸‹å‘¢? å› ä¸ºiabbrev å‰é¢æœ‰ä¸ªiâ€¦.]</p><p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥å¾ˆæ–¹ä¾¿çº æ­£ä¸€äº›æ‹¼å†™é”™è¯¯.</p><p>é‰´äºæˆ‘å¸¸å¸¸å®¹æ˜“æ‰“å‡º ned, æ‰€ä»¥æˆ‘æŠŠè¿™ä¸ª iabbrev æ”¾åœ¨äº† <code>.vimrc</code> ä¸­. å“ˆå“ˆ.</p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯, ç”¨ abbreviation æ›¿æ¢çš„, ä¸å¯ä»¥æ˜¯å…³é”®å­— keyword, åŒ…æ‹¬æ‰€æœ‰çš„ ASCII å­—ç¬¦, ä¸‹åˆ’çº¿(_)ç­‰.</p><p>å¯ä»¥é€šè¿‡<code>:h isfname</code> æ¥æŸ¥çœ‹ Vim ä¸­çš„æ‰€æœ‰å…³é”®å­—.</p><p>ä¸ºäº†çœå»å¤§ä¼™çœ‹æ–‡æ¡£æ‡µé€¼çš„æ—¶é—´, ä½œè€…åœ¨æ–‡ä¸­è´´å¿ƒåœ°ç»™äº†ä¸€ä¸ªç®€å•çš„è®°å¿†æ–¹æ³•: ç”¨ abbreviation æ¥æ›¿æ¢çš„, ä¸å¯ä»¥æ˜¯å•ä¸ªå­—æ¯, æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿.</p><p>è¯´åˆ°è¿™é‡Œ, ä½ å¤§æ¦‚ä¼šçŒœ, æ”¯æŒæ‰©å±•ç¼©ç•¥çš„æ’ä»¶, æ¯”å¦‚ <a href="https://github.com/mattn/emmet-vim">mattn/emmet-vim</a> åº”è¯¥æ˜¯ Abbreviations çš„ä¸€ä¸ªå…¸å‹åº”ç”¨å§.</p><p>æˆ‘å½“æ—¶å°±æ˜¯è¿™ä¹ˆæƒ³çš„, å±é¢ å±é¢ è·‘å»çœ‹ <a href="https://github.com/mattn/emmet-vim">mattn/emmet-vim</a> çš„æºä»£ç æƒ³éªŒè¯ä¸‹çŒœæƒ³, ç»“æœå‘ç°æ²¡æœ‰ iabbrev çš„èº«å½±, å–è€Œä»£ä¹‹çš„æ˜¯ substitute() å‡½æ•°.ğŸ¤ª [æ ¸å¿ƒä»£ç éƒ½æ˜¯autoloadç›®å½•ä¸‹, å¦‚æœä½ ä¹Ÿå¥½å¥‡çš„è¯â€¦.]</p><p>åˆ‡å› Abbreviations.</p><p>å¦‚æœæƒ³è¦æ¸…é™¤åˆšåˆšçš„ç¼©å†™è®¾ç½®, å¯ä»¥ä½¿ç”¨:</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:iunabbrev</span> ned</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦æ¸…é™¤æ‰€æœ‰çš„ç¼©å†™è®¾ç½®, å¯ä»¥ä½¿ç”¨:</p><figure class="highlight clojure"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:abclear</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­, <code>ab</code> æ˜¯ <code>abbrev</code> çš„ç¼©å†™å½¢å¼â€¦.</p><p>ä¸Šé¢ ned é‚£ä¸ªä¾‹å­é‡Œ, ç”¨mapping ä¹Ÿå¯ä»¥å®ç°ä¸€æ ·çš„åŠŸèƒ½.</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:inoremap</span> ned <span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>é‚£ä¸ºä»€ä¹ˆä¸ç”¨ mappingå‘¢?</p><p>å› ä¸º mappings ä¸ä¼šè€ƒè™‘éœ€è¦æ›¿æ¢çš„å­—ç¬¦çš„ä¸Šä¸‹æ–‡æƒ…å†µ.[Mappings donâ€™t take into account what characters come before or after the map]</p><p>ä½œè€…åœ¨ä¹¦ä¸­ç»™äº†ä¸ªä¾‹å­. ä½†æ˜¯è¿™ä¸ªä¾‹å­å¾ˆå¥‡æ€ª, inoremap æ— æ•ˆ.</p><p>æ‰€ä»¥, æˆ‘æ¥æ•´äº†ä¸ªç®€å•ç‚¹çš„.</p><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">inoremap</span> <span class="built_in">log</span> logger.<span class="keyword">debug</span></span><br></pre></td></tr></table></figure><p>åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ log, logä¼šè‡ªåŠ¨æ›´æ¢æˆ logger.debug, ä½†æ˜¯å½“ä½ è¾“å…¥ blog æ—¶, å‘ç°ä¹Ÿè¢«è‡ªåŠ¨æ›¿æ¢æˆäº†blogger.debug.</p><p>è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„.</p><p>æ¢æˆ <code>iabbrev</code> å°±å¯ä»¥é¿å…è¿™ä¸ªå‘.</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">iunmap</span> <span class="built_in">log</span></span><br><span class="line">:<span class="keyword">iabbrev</span> <span class="built_in">log</span> logger.<span class="keyword">debug</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤„ç”¨ <code>iunmap</code> æ¥æ¸…é™¤åˆšåˆšè®¾ç½®çš„mapping.</p><p>è¿™æ—¶åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ blog, å‘ç°ä¸ä¼šè¢«æ›¿æ¢äº†.</p><p>Bravo~</p><p>OK, Abbreviations å¯ä»¥å‘Šä¸€æ®µè½. è‡ªå·±è¯•ç€å†™å‡ ä¸ª abbrev æ¥å¸®åŠ©æ›´æ­£æ‹¼å†™å§ğŸ˜„ï¸</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Vim çš„ Abbreviations ç‰¹æ€§, åŒ mappings æœ‰äº›ç›¸ä¼¼, ä½†æ˜¯ä¸»è¦ç”¨äºæ’å…¥, æ›¿æ¢.&lt;/p&gt;
&lt;p&gt;è¿™é‡ŒæŒ‰ç…§åŸä¹¦çš„æ€è·¯ç®€å•è¯´ä¸€ä¸‹åº”ç”¨.&lt;/p&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸ªä¾‹å­.&lt;/p&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹, è¾“å…¥:&lt;/p&gt;
&lt;figure class=&quot;hig
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>editing your vimrc</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-edit-your-vimrc/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-edit-your-vimrc/</id>
    <published>2021-12-22T12:46:36.000Z</published>
    <updated>2021-12-23T08:17:28.375Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸€ç« ç»“åˆå‰é¢æ‰€å­¦çš„, å®ç°äº†ä¸¤ä¸ªåŠŸèƒ½: edit and source your vimrc.</p><p>å½“ä½ ç¼–è¾‘æ–‡ä»¶æ—¶, å¦‚æœæƒ³è¦ä¿®æ”¹ <code>.vimrc</code> æ–‡ä»¶, å¹¶ä½¿åˆšåˆšä¿®æ”¹çš„é…ç½®ç”Ÿæ•ˆ, æœ‰ä»€ä¹ˆå¿«æ·çš„æ–¹å¼?</p><p>ä½œè€…ç»™äº†å¦‚ä¸‹è§£å†³æ–¹æ³•.</p><p>ç¼–è¾‘<code>.vimrc</code>, æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Leader&gt;</span>ev :<span class="keyword">vsplit</span> $MYVIMRC<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Leader&gt;</span><span class="keyword">sv</span> :<span class="keyword">source</span> $MYVIMRC<span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­, MYVIMRC æ˜¯Vim æä¾›çš„ç¯å¢ƒå˜é‡, æŒ‡çš„æ˜¯ <code>.vimrc</code> æ–‡ä»¶çš„ä½ç½®, å¯é€šè¿‡<code>:echo $MYVIMRC</code> æŸ¥çœ‹ MYVIMRC çš„å€¼.</p><p>è¿™é‡Œæä¾›äº†ä¸¤ä¸ª mappings, æŒ‰<code>&lt;Leader&gt;ev</code> , ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„split, ç¼–è¾‘  <code>.vimrc</code>  æ–‡ä»¶. æŒ‰<code>&lt;Leader&gt;sv</code> , source   <code>.vimrc</code>æ–‡ä»¶ .</p><p>ä¸å¾—ä¸è¯´, çœŸçš„è¶…æ–¹ä¾¿.</p><p>æœ‰äº†èŒƒä¾‹, æˆ‘ä¹Ÿå€’è…¾äº†ä¸€ä¸ªç¼–è¾‘ <code>.tmux.conf</code> çš„mapping.</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Leader&gt;</span>et :<span class="keyword">vsplit</span> $HOME/.tmux.<span class="keyword">conf</span><span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure><p>æŒ‰<code>&lt;Leader&gt;et</code> , ç¼–è¾‘  <code>.tmux.conf</code>  æ–‡ä»¶.</p><p>åŒæ ·ä¹Ÿå¯ä»¥æ¥ä¸ªsource:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Leader&gt;</span><span class="keyword">st</span> :!tmux <span class="keyword">source</span>-<span class="keyword">file</span> $HOME/.tmux.<span class="keyword">conf</span><span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure><p> ä½†æ˜¯é€šå¸¸éœ€è¦ source  <code>.tmux.conf</code> çš„åœºåˆ, ä¹Ÿå¤šæ˜¯åœ¨ tmux ä¸­, ç›´æ¥å¿«æ·é”® <code>Crtl-b + r</code> å°±å¯ä»¥äº†.æ‰€ä»¥  source <code>.tmux.conf</code> çš„è¿™ä¸ª mapping ä¹Ÿå¯ä»¥ä¸é…ç½®.</p><p>OK,  æœ¬ç« ç»“æŸ, ä½ ä¹Ÿæ¥é…ç½®ä¸ªç©ä¸€ç©å§^_^</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ä¸€ç« ç»“åˆå‰é¢æ‰€å­¦çš„, å®ç°äº†ä¸¤ä¸ªåŠŸèƒ½: edit and source your vimrc.&lt;/p&gt;
&lt;p&gt;å½“ä½ ç¼–è¾‘æ–‡ä»¶æ—¶, å¦‚æœæƒ³è¦ä¿®æ”¹ &lt;code&gt;.vimrc&lt;/code&gt; æ–‡ä»¶, å¹¶ä½¿åˆšåˆšä¿®æ”¹çš„é…ç½®ç”Ÿæ•ˆ, æœ‰ä»€ä¹ˆå¿«æ·çš„æ–¹å¼?&lt;/p&gt;
&lt;p&gt;ä½œè€…ç»™äº†å¦‚ä¸‹è§£å†³æ–¹æ³•.
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>Leaders</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-leaders/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-leaders/</id>
    <published>2021-12-21T13:10:12.000Z</published>
    <updated>2021-12-22T01:50:33.186Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥åˆ°äº†å¸¸è§çš„ Leader.</p><p>åˆå­¦æ—¶, æˆ‘ç®€å•åœ°æŠŠ Leader ç†è§£æˆä¸€ä¸ª namespace, å¥½æ¯” tmux çš„ <code>Ctrl+b</code>. ç°åœ¨çœ‹, ä¹Ÿæ²¡æœ‰åå·®å¤ªå¤š.</p><p>ä½ å¯ä»¥æŠŠ Leader çœ‹æˆæ˜¯ Vim å†…ç½®çš„ prefix key.</p><p>Leader çš„å€¼å­˜åœ¨ mapleader å˜é‡ä¸­, å¦‚æœ mapleader æœªåˆå§‹åŒ–æˆ–è€…å€¼ä¸ºç©º, åˆ™é»˜è®¤ä¸º åæ–œæ  <code>\</code> .</p><p>è¿™é‡Œæ³¨æ„: mapleader æ˜¯ä¸€ä¸ª variable, ä¸æ˜¯ä¸€ä¸ª option, ä½¿ç”¨ <code>:set mapleader?</code> ä¼šæŠ¥é”™çš„.</p><p>ç›¸åº”çš„, å¦‚æœæƒ³è¦ä¿®æ”¹ Leader é”®, å¯ä»¥é€šè¿‡ç»™ mapleader èµ‹å€¼æ¥å®ç°.</p><p>ç¼–è¾‘<code>.vimrc</code>, æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> mapleader=<span class="string">&quot;-&quot;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Leader&gt;</span>d dd</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡º, source å, æ‰“å¼€æ–‡ä»¶, åœ¨ Normal æ¨¡å¼ä¸‹, æŒ‰ <code>-d</code>, ç­‰åŒäºæ‰§è¡Œ <code>dd</code>. å³åˆ é™¤å½“å‰è¡Œ. æ­¤æ—¶ <code>&lt;Leader&gt;</code> å·²å˜æˆäº†<code>-</code> äº†, å¦‚æœæŒ‰<code>\d</code> , ä¼šå‘ç°æ— æ•ˆ.</p><p>mapleader è¿˜æœ‰ä¸€ä¸ªå°å…„å¼Ÿ, å« maplocalleader,  åœ¨ Vimä¸­ç”¨ç‰¹æ®Šçš„å­—ç¬¦ä¸² <code>&lt;LocalLeader&gt;</code> æ¥è¡¨ç¤º.</p><p>åŒæ ·, å¯ä»¥é€šè¿‡èµ‹å€¼ maplocalleader æ¥è®¾ç½®   <code>&lt;LocalLeader&gt;</code>  :</p><figure class="highlight nix"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">let</span> <span class="attr">maplocalleader</span> = <span class="string">&quot;\\&quot;</span></span><br></pre></td></tr></table></figure><p>é‚£  <code>&lt;LocalLeader&gt;</code>  æ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢?</p><p>ä½œè€…åœ¨ä¹¦ä¸­æåˆ°  <code>&lt;LocalLeader&gt;</code>  ç”¨æ¥ä½œä¸ºç‰¹å®šæ–‡ä»¶ç±»å‹ä¸­çš„å‰ç½®é”®.</p><blockquote><p>This is meant to be a prefix for mappings that only take effect for certain types of files, like Python files or HTML files.</p></blockquote><p>è¿™ä¸ªåŒå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºçš„, ç¨ç¨æœ‰äº›åŒºåˆ«.</p><p>Vim å®˜æ–¹æ–‡æ¡£æåˆ°çš„æ˜¯ <code>&lt;LocalLeader&gt;</code>  ç”¨äºåªé’ˆå¯¹å½“å‰ buffer æœ‰æ•ˆçš„mappings.</p><blockquote><p><code>&lt;LocalLeader&gt;</code>  is to be used for mappings which are local to a buffer.  Example:<br>:map <buffer> <code>&lt;LocalLeader&gt;</code>A  oanother line<Esc></p></blockquote><p>ä½†æ˜¯æ–‡æ¡£ä¸­ä¹Ÿæåˆ°äº†:</p><blockquote><p>In a global plugin <code>&lt;Leader&gt;</code> should be used and in a filetype plugin <code>&lt;LocalLeader&gt;</code>.</p></blockquote><p>å…¨å±€æ’ä»¶ä½¿ç”¨ <code>&lt;Leader&gt;</code>  , ç‰¹å®šæ–‡ä»¶ç±»å‹çš„æ’ä»¶, ä½¿ç”¨ <code>&lt;LocalLeader&gt;</code>  .[æœ‰å…³Plugin, åé¢ä¼šå•ç‹¬å†ä»‹ç»]</p><p>å½“ç„¶, å¹³æ—¥é‡Œæˆ‘åŸºæœ¬ç”¨ä¸åˆ°<code>&lt;LocalLeader&gt;</code> , è¿™é‡Œå°±ä¸æŠ˜è…¾äº†.</p><p>å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£äº†è§£æ›´å¤š.</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:h</span> mapleader</span><br><span class="line"><span class="symbol">:h</span> maplocalleader</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ¥åˆ°äº†å¸¸è§çš„ Leader.&lt;/p&gt;
&lt;p&gt;åˆå­¦æ—¶, æˆ‘ç®€å•åœ°æŠŠ Leader ç†è§£æˆä¸€ä¸ª namespace, å¥½æ¯” tmux çš„ &lt;code&gt;Ctrl+b&lt;/code&gt;. ç°åœ¨çœ‹, ä¹Ÿæ²¡æœ‰åå·®å¤ªå¤š.&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥æŠŠ Leader çœ‹æˆæ˜¯ Vim å†…ç½®çš„ pref
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>mapping</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-mapping/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-mapping/</id>
    <published>2021-12-15T10:37:10.000Z</published>
    <updated>2022-01-11T08:06:06.155Z</updated>
    
    <content type="html"><![CDATA[<p>mapping  é¡¾åæ€ä¹‰, <code>map a b</code>, å½“æˆ‘æ‰§è¡Œ a æ“ä½œæ—¶, å®ƒä¼šåš b æ“ä½œä¼šåšçš„äº‹.</p><p>çœ‹ä¸ªä¾‹å­, åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥:</p><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">map</span> <span class="string">\</span> dd</span><br></pre></td></tr></table></figure><p>è¡¨ç¤º, åœ¨ normal æ¨¡å¼ä¸‹, æŒ‰ä¸‹<code>\</code>, å°±ä¼šåˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œ.</p><p>mappingçš„è®¾ç½®, è·Ÿæ¨¡å¼æœ‰å…³ç³».</p><p><code>nmap</code> : normal mode ä¸‹çš„ mapping, åªåœ¨ normal æ¨¡å¼ä¸‹æœ‰æ•ˆ.</p><p><code>vmap</code> : visual mode ä¸‹çš„ mapping, åªåœ¨ visual æ¨¡å¼ä¸‹æœ‰æ•ˆ.</p><p><code>imap</code> : insert mode ä¸‹çš„ mapping, åªåœ¨ insert æ¨¡å¼ä¸‹æœ‰æ•ˆ.</p><p><code>omap</code> : operator-pending mode ä¸‹çš„ mapping, åªåœ¨ operator-pending æ¨¡å¼ä¸‹æœ‰æ•ˆ.</p><p><code>map</code>: normal, visual, operating mode ä¸‹çš„ mapping, åœ¨ normal/visual/operator-pending æ¨¡å¼ä¸‹æœ‰æ•ˆ.</p><p>map æœ‰ä¸€ä¸ªå¤§å‘, å«åš Recursion, ä¹¦ä¸­ç»™äº†ä¸€ä¸ªä¾‹å­, æ¯”å¦‚:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">nmap</span> dd O<span class="symbol">&lt;esc&gt;</span>jddk</span><br></pre></td></tr></table></figure><p>normal æ¨¡å¼ä¸‹, æŒ‰ä¸‹dd, ç­‰åŒäºæ‰§è¡Œäº†<code>O&lt;esc&gt;jddk</code> , è€Œ <code>O&lt;esc&gt;jddk</code> ä¹Ÿæœ‰ <code>dd</code>, Vim å°±ä¼šå†æ¬¡ mapping, å¦‚æ­¤æ— ç©·å°½â€¦.</p><p>è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨<code>noremap</code>,  nonrecursive mapping. ä¿®æ”¹ä¸Šé¢é‚£ä¸ªå‘½ä»¤:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">nnoremap</span> dd O<span class="symbol">&lt;esc&gt;</span>jddk</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±æ­£å¸¸äº†. é‰´äº noremap èƒ½é¿é›·,  ä½œè€…ç»™åˆ°çš„æ„è§æ—¶, <strong>Always</strong> using  noremap instead of map. </p><p>å†çœ‹ä¸ªä¾‹å­:</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:nnoremap</span> &lt;C-s&gt;  <span class="symbol">:suspend&lt;CR&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤è¡¨ç¤º, normal æ¨¡å¼ä¸‹, æŒ‰ä½ Ctrl + s, å°±ç­‰åŒäºåœ¨å‘½ä»¤è¡Œè¾“å…¥äº†<code>:suspend</code> ç„¶åå›è½¦ ,è¿™é‡Œ  <code>&lt;CR&gt;</code> è¡¨ç¤ºEnterå›è½¦é”®.</p><p>éƒ½è¯´åˆ°<code>&lt;CR&gt;</code> , ä¸å¦¨æ¥çœ‹çœ‹ VimScript ä¸­ çš„ ä¸€äº›å¸¸ç”¨çš„ keycodes :</p><figure class="highlight bnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">&lt;Esc&gt;</span> : ä»£è¡¨ Esc é”®</span><br><span class="line"><span class="attribute">&lt;C-&#123;key&#125;&gt;</span> : Ctrl + ä»»æ„é”®, é€šå¸¸æ˜¯å­—æ¯é”®</span><br><span class="line"><span class="attribute">&lt;S-&#123;key&#125;&gt;</span> : Shift + ä»»æ„é”®, é€šå¸¸æ˜¯å­—æ¯é”®</span><br><span class="line"><span class="attribute">&lt;CR&gt;</span> : Enteré”®,ä¹Ÿå¯ä»¥ç”¨<span class="attribute">&lt;Enter&gt;</span>, <span class="attribute">&lt;Return&gt;</span> æ¥è¡¨ç¤º</span><br><span class="line"><span class="attribute">&lt;Space&gt;</span> : ç©ºæ ¼é”®</span><br><span class="line"><span class="attribute">&lt;Leader&gt;</span> : Leader é”®</span><br><span class="line"><span class="attribute">&lt;Left&gt;</span> : å·¦ç§»æ–¹å‘é”®, ç±»ä¼¼æœ‰<span class="attribute">&lt;Right&gt;</span>, <span class="attribute">&lt;Up&gt;</span>, <span class="attribute">&lt;Down&gt;</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆ, å¦‚ä½•çŸ¥é“ VimScript ä¸­æ‰€æœ‰ key çš„ç‰¹æ®Šæ ‡è®°? ç”¨ä¸‡èƒ½çš„<code>:help</code>  å°±å¥½äº†, å‘½ä»¤è¡Œè¾“å…¥:</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:h</span> key-notation</span><br></pre></td></tr></table></figure><p>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„ key-notation.</p><p>æˆ‘è¿˜è®°å¾—åˆšå…¥é—¨æ—¶, æœ‰æ—¶å€™çœ‹åˆ°åˆ«äººçš„ vimrc æ–‡ä»¶ä¸­, æœ‰äº› keycode æ˜¯å…¨éƒ¨å°å†™çš„, æ¯”å¦‚ <code>&lt;cr&gt;</code>, <code>&lt;esc&gt;</code>, å½“æ—¶è§‰å¾—, æœ‰çš„äººå¤§å†™, æœ‰çš„äººå°å†™, å“ªç§æ‰æ˜¯è§„èŒƒçš„å‘¢? ç›´åˆ°çœ‹äº†æ–‡æ¡£, æ‰çŸ¥é“å®˜æ–¹æ˜¯é¦–å­—æ¯å¤§å†™, ä¹Ÿç®—è§£äº†æˆ‘çš„ä¸€ä¸ªå°å›°æƒ‘.</p><p>Vim ä¸­æœ‰ä¸ªç‰¹æ®Šçš„ mapping, <code>&lt;Nop&gt;</code>, è¡¨ç¤ºä»€ä¹ˆä¹Ÿä¸åš. æ¯”å¦‚:</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">inoremap</span> <span class="symbol">&lt;Esc&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br></pre></td></tr></table></figure><p>Insert æ¨¡å¼ä¸‹, æŒ‰ä¸‹ Esc é”®, ä»€ä¹ˆä¹Ÿæ²¡æœ‰åš. [æ…ç”¨!!!]</p><p>ç°åœ¨, æˆ‘ä»¬å¯ä»¥ç”¨å­¦åˆ°çš„çŸ¥è¯†æ¥å†™ä¸ªç®€å•çš„ç¦æ­¢ä½¿ç”¨ä¸Šä¸‹å·¦å³é”®çš„åŠŸèƒ½:</p><p>åœ¨ <code>.vimrc</code> æ–‡ä»¶ä¸­, æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot; disable up, down, leaf, right</span></span><br><span class="line"><span class="comment">&quot; normal mode</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Up&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Down&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Left&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;Right&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; visual mode</span></span><br><span class="line"><span class="keyword">vnoremap</span> <span class="symbol">&lt;Up&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">vnoremap</span> <span class="symbol">&lt;Down&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">vnoremap</span> <span class="symbol">&lt;Left&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">vnoremap</span> <span class="symbol">&lt;Right&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; insert mode</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;Up&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;Down&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;Left&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;Right&gt;</span> <span class="symbol">&lt;Nop&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åªèƒ½ç”¨ hjkl äº†.</p><p>å¥½äº†, é™¤äº† Operator-Pending Mappings å¤–, åŸºæœ¬ç®—æ˜¯ç¼•æ¸…äº†, æ•´ç‚¹å¥½åƒçš„, çŠ’åŠ³ä¸‹è‡ªå·±å§.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;mapping  é¡¾åæ€ä¹‰, &lt;code&gt;map a b&lt;/code&gt;, å½“æˆ‘æ‰§è¡Œ a æ“ä½œæ—¶, å®ƒä¼šåš b æ“ä½œä¼šåšçš„äº‹.&lt;/p&gt;
&lt;p&gt;çœ‹ä¸ªä¾‹å­, åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥:&lt;/p&gt;
&lt;figure class=&quot;highlight livescript&quot;&gt;&lt;tab
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>set option</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-set-option/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-set-option/</id>
    <published>2021-12-15T10:36:51.000Z</published>
    <updated>2021-12-22T01:50:17.426Z</updated>
    
    <content type="html"><![CDATA[<p>æ–°æ‰‹åŸºæœ¬éƒ½ä¼šåœ¨å¤§ä½¬ä»¬çš„.vimrc æ–‡ä»¶ä¸­çœ‹åˆ°ä¸å°‘ set option. </p><p>æˆ‘ä»¬å¯ä»¥æŠŠ option çœ‹ä½œæ˜¯ built-in configuration.</p><p>option å¯ä»¥æ˜¯å¸ƒå°”å€¼, ç±»ä¼¼å¼€å…³, <code>set &#123;option&#125;</code>, <code>set no&#123;option&#125;</code>, ä¹Ÿå¯ä»¥èµ‹å€¼ <code>set &#123;option&#125;= &#123;value&#125;</code>. ä»¥ number ä¸ºä¾‹:</p><p>åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¾“å‡º number çš„å½“å‰å€¼</span></span><br><span class="line">:set number?</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ è¡Œå·æ˜¾ç¤º</span> </span><br><span class="line">:set number</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­è¡Œå·æ˜¾ç¤º, é€šç”¨æ¨¡å¼no&#123;option&#125;</span></span><br><span class="line">:set nonumber</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ‡æ¢</span></span><br><span class="line">:set number!</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®æˆé»˜è®¤å€¼</span></span><br><span class="line">:set number&amp;</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®æ‰€æœ‰çš„ option ä¸ºç³»ç»Ÿé»˜è®¤å€¼</span></span><br><span class="line">:set all&amp;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç®€å•æä¸€ä¸‹, æ¯”è¾ƒå¸¸ç”¨çš„ path. </p><p>åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥å½“å‰Path:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">:<span class="built_in">set</span> <span class="built_in">path</span>?</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><p><code> path=.,/usr/include,,</code></p><p>å…¶ä¸­:</p><ul><li><p>. æŒ‡çš„æ˜¯å½“å‰æ‰“å¼€æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•.</p></li><li><p>/usr/include æ˜¯ C Libraries å¤´æ–‡ä»¶ç›®å½•</p></li><li><p>, æŒ‡å¾—æ˜¯å½“å‰ç›®å½•</p></li></ul><p>å»ºè®®å°†ç»å¸¸è®¿é—®çš„ç›®å½•æ·»åŠ åˆ° path, æ¯”å¦‚:</p><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">set</span> path+=app/<span class="keyword">models</span>/</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç”¨<code>find</code> å°±é¡ºæ‰‹å¤šäº†.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ–°æ‰‹åŸºæœ¬éƒ½ä¼šåœ¨å¤§ä½¬ä»¬çš„.vimrc æ–‡ä»¶ä¸­çœ‹åˆ°ä¸å°‘ set option. &lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠ option çœ‹ä½œæ˜¯ built-in configuration.&lt;/p&gt;
&lt;p&gt;option å¯ä»¥æ˜¯å¸ƒå°”å€¼, ç±»ä¼¼å¼€å…³, &lt;code&gt;set &amp;#123;option
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>echo vs echom</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-on-echo/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-on-echo/</id>
    <published>2021-12-15T10:32:36.000Z</published>
    <updated>2021-12-22T02:27:20.426Z</updated>
    
    <content type="html"><![CDATA[<p>echo å’Œ echom éƒ½ç”¨äºè¾“å‡º, ä½†æ˜¯ echom è¾“å…¥çš„å†…å®¹, ä¼šè¢«ä¿å­˜åœ¨ messages ä¸­.</p><p>åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥:</p><figure class="highlight clojure"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:echo</span> <span class="string">&quot;hello, world through echo&quot;</span></span><br><span class="line"><span class="symbol">:echom</span> <span class="string">&quot;hello, world through echom&quot;</span></span><br><span class="line"><span class="symbol">:messages</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ messages ä¸­çœ‹åˆ° echom è¾“å‡ºçš„å†…å®¹.</p><p>æˆ‘ä¹‹å‰ä¼šè§‰å¾— echo æ²¡å•¥ç”¨, ç›´åˆ°çœ‹åˆ° Max Cantor çš„ä¸€ä¸ªåˆ†äº«è§†é¢‘ <a href="https://www.youtube.com/watch?v=XA2WjJbmmoM&list=WL">How to Do 90% of What Plugins Do (With Just Vim)</a> , ä»–å½“æ—¶å°è¯•ç”¨  <code>:echo expand(&#39;%&#39;)</code> è¾“å‡ºå½“å‰æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„, çœ‹åˆ°ç»“æœçš„é‚£ä¸€åˆ»,  Max æƒ…ä¸è‡ªç¦ yesäº†ä¸€ä¸‹, é‚£ä¸ªå¼€å¿ƒå•Š, å¤šåƒè·‘é€šä»£ç çš„æˆ‘ä»¬, ä¸€ä¸‹å­è®©æˆ‘è®°ä½äº†expand(â€œ%â€), ä¹Ÿå¯¹echo æœ‰äº†å°è±¡â€¦â€¦..</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;echo å’Œ echom éƒ½ç”¨äºè¾“å‡º, ä½†æ˜¯ echom è¾“å…¥çš„å†…å®¹, ä¼šè¢«ä¿å­˜åœ¨ messages ä¸­.&lt;/p&gt;
&lt;p&gt;åœ¨ Vim å‘½ä»¤è¡Œä¸­, è¾“å…¥:&lt;/p&gt;
&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>å‰è¨€</title>
    <link href="http://lupeipei.github.io/posts/vimscript-learning-preface/"/>
    <id>http://lupeipei.github.io/posts/vimscript-learning-preface/</id>
    <published>2021-12-15T10:26:07.000Z</published>
    <updated>2021-12-22T01:50:23.869Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œæ˜¯åˆ· <a href="https://github.com/sjl">Steve Losh</a>çš„  <a href="https://learnvimscriptthehardway.stevelosh.com/">Learn Vimscript the Hard Way </a> çš„ç¬”è®°ç³»åˆ—.</p><p>å†™ä¹‹å‰ç‰¹æ„æŸ¥äº†ä¸‹, å·²ç»æœ‰ç½‘å‹å°†æœ¬ä¹¦ç¿»è¯‘æˆäº†ä¸­æ–‡, ä½†ä¸»é¡µå·²ç»æ‰“ä¸å¼€, å€’æ˜¯åœ¨çœ‹äº‘ä¸Šä¿ç•™äº†åŸæ¥çš„è¯‘æ–‡, å¦‚æœæƒ³é˜…è¯»ä¸­æ–‡ç‰ˆæœ¬, è¿™é‡Œé™„ä¸Š<a href="https://www.kancloud.cn/kancloud/learn-vimscript-the-hard-way/49321">é“¾æ¥</a>.</p><p>å½“ç„¶, ä¸ªäººéå¸¸æ¨èé˜…è¯»åŸæ–‡, 50å¤šç¯‡, æ¯ç¯‡ç¯‡å¹…éƒ½æ¯”è¾ƒçŸ­, é˜…è¯»è¿‡ç¨‹ä¸­, ä½œè€…è¿˜ä¼šå¶å°”æ¥ç‚¹è°ƒçš®è¯, æ•´ç‚¹å“²ç†é¸¡æ±¤å•¥çš„, å«äººè¯»ç€è¯»ç€å°±ç¬‘äº†, å“ˆå“ˆâ€¦..</p><p>æ€»ä¹‹, é˜…è¯»åŸç‰ˆæ˜¯ä¸€ä»¶å¾ˆå¼€å¿ƒçš„äº‹æƒ…, ä¸è¦è®©è‡ªå·±é”™è¿‡.&gt;^.^&lt;</p><p>é‰´äºæˆ‘è‡ªå·±ä¹Ÿæ˜¯ä¸€ä¸ªVim æ–°æ‰‹, æ‰€ä»¥æˆ‘å¤šæ˜¯ä»¥æˆ‘ä¸ªäººçš„ç†è§£å»å¯¹ä¹¦ä¸­çš„å†…å®¹åšä¸€äº›æ•´ç†, å¶å°”åŠ ç‚¹æ–°ä¸œè¥¿, åŒæ—¶å°½é‡é¡ºç€åŸä½œè€…çš„å†™ä½œé£æ ¼, åŠ›æ±‚ç®€æ˜æ¸…æ™°è¯´äººè¯, ç¯‡å¹…é€‚ä¸­æ˜“é˜…è¯», è¾¾åˆ°å…¥é—¨ VimScript çš„ç›®æ ‡.</p><p>æœ¬æ–‡é€‚åˆæœ‰ Vim ä½¿ç”¨ç»éªŒ(è‡³å°‘ Vim ä½¿ç”¨ä¸€ä¸¤ä¸ªæœˆ) çš„æ–°æ‰‹å›´è§‚.</p><p>åŸä¹¦åŸºäºVim 7.3,  æœ¬ç³»åˆ—åŸºäº Vim 8.2. æŸäº›å†…å®¹ä¼šä¸åŸæ–‡ç¨æœ‰å·®å¼‚.</p><p>å¼€å§‹å§.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™é‡Œæ˜¯åˆ· &lt;a href=&quot;https://github.com/sjl&quot;&gt;Steve Losh&lt;/a&gt;çš„  &lt;a href=&quot;https://learnvimscriptthehardway.stevelosh.com/&quot;&gt;Learn Vimscript the Hard
      
    
    </summary>
    
      <category term="VimScript å­¦ä¹ ç¬”è®°" scheme="http://lupeipei.github.io/categories/VimScript-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>è¯» ã€ŠMan&#39;s Search For Meaningã€‹</title>
    <link href="http://lupeipei.github.io/posts/notes-of-man-s-search-for-meaning/"/>
    <id>http://lupeipei.github.io/posts/notes-of-man-s-search-for-meaning/</id>
    <published>2021-12-09T06:56:15.000Z</published>
    <updated>2021-12-12T02:18:52.634Z</updated>
    
    <content type="html"><![CDATA[<p>æ‹–äº†è¿‘åŠå¹´, è¶ç€ä¼‘å‡, æ•´ç†äº†ä¸‹.</p><span id="more"></span><p>æ•´æœ¬ä¹¦ç¯‡å¹…å¾ˆçŸ­, åˆ†ä¸¤éƒ¨åˆ†.</p><p>ç¬¬ä¸€éƒ¨åˆ† Experiences in a concertration Camp è®²è¿°äº†ä½œè€…æœ¬äººåœ¨é›†ä¸­è¥çš„é‚£æ®µç»å†.</p><p>ç¬¬äºŒéƒ¨åˆ† Logotherapy in a Nutshell,  ä½œè€…ç®€å•ä»‹ç»äº†ä»–åˆ›ç«‹çš„å¿ƒç†æ²»ç–—ç†è®º logotherapy, logo åœ¨å¸Œè…Šè¯­ä¸­æŒ‡ meaning. è¯¥ç†è®ºä¹ŸåŸºäºä»–æœ¬äººåœ¨é›†ä¸­è¥çš„é‚£æ®µç»å†.</p><p>æˆ‘ä¸€ç›´è§‰å¾—åªè¦äººæ´»ç€, æŸäº›ç»å†æ˜¯æ— æ³•é—å¿˜çš„, æ›´ä½•å†µæ˜¯è¢«å›šç¦åœ¨é›†ä¸­è¥. ä½ ä»¥ä¸ºæ—¶é—´ä¼šå¸®ä½ æ·¡å¿˜, ä½ é€‰æ‹©ä¸å†è®°èµ·, ä½†å®ƒä»¬æ˜¯ä½ è¿‡å»çš„ä¸€éƒ¨åˆ†, è¿™æ˜¯ä¸äº‰çš„äº‹å®, çœ‹ä¼¼å¿˜å´, ä½†å…¶å®ä»æœªç¦»å¼€. ä¹¦ä¸­ä¹Ÿæåˆ°é‚£äº›ä»é›†ä¸­è¥èµ°å‡ºæ¥çš„äºº, å¤§éƒ¨åˆ†éƒ½æœ‰ç€æˆ–å¤šæˆ–å°‘çš„åé—ç—‡, è€Œä½œè€…ä½œä¸ºäº²å†è€…ä¹‹ä¸€,  é€‰æ‹©å°†è‹¦éš¾åŒ–ä½œäº†å…»åˆ†, é€šè¿‡åˆ›ä½œå»ç–—æ„ˆå¿ƒç†åˆ›ä¼¤. ä¸€å®šæ„ä¹‰ä¸Š, æ„Ÿè§‰æ›´åƒæ˜¯è‡ªæ•‘, è€Œæ•´ä¸ªè¿‡ç¨‹, å´ä¹Ÿæ²»æ„ˆäº†å…¶ä»–äºº.</p><p>åˆ‡åˆäº†å¤è¯­, è‡ªæ¸¡è€…æ¸¡äºº.</p><p>é‚£æ•´æœ¬ä¹¦, ä½œè€…æƒ³è¦è¡¨è¾¾çš„æ˜¯ä»€ä¹ˆå‘¢?</p><p>åœ¨ä¹¦çš„å‰è¨€éƒ¨åˆ†, åŸºæœ¬ç‚¹å‡ºäº†æ•´æœ¬ä¹¦ä»–æƒ³è¦è¡¨è¾¾çš„è§‚ç‚¹.</p><blockquote><p>Life is not primarily a quest for pleasure, or a quest for power, but a quest for meaning.</p><p>Viktor Frankl saw three possible sources for meaning:</p><ul><li>in work</li><li>in love</li><li>in courage during difficult times</li></ul></blockquote><p>ä½œè€…è®¤ä¸º, äººç”Ÿä¸æ˜¯è¿½é€ååˆ©ä¸æ¬¢æ„‰, è€Œæ˜¯è¿½æ±‚æ„ä¹‰. è€Œæ„ä¹‰æœ‰ä¸‰ä¸ªå¯èƒ½çš„æ¥æº, å·¥ä½œ, çˆ±, å›°å¢ƒä¸­çš„å‹‡æ°”.</p><p>ä½œè€…ä¸ºä»€ä¹ˆä¼šè®¤ä¸ºè¿½æ±‚ meaning å¾ˆé‡è¦?</p><blockquote><p>å› ä¸ºå®ƒä¼šæ”¯æ’‘ç€ä¸€ä¸ªäººèµ°è¿‡é‚£äº›ç…ç†¬çš„æ—¥å­, è€Œä¸æ˜¯åœ¨å›°å¢ƒä¸­, é€‰æ‹©é€šè¿‡ç»“æŸç”Ÿå‘½, æ¥ç»“æŸç—›è‹¦.</p><p>ä¹¦ä¸­å¤šæ¬¡å¼•ç”¨äº†å°¼é‡‡ Nietzsche çš„è¯: <strong>He who has a Why to live for can bear almost any How.</strong></p><p>meaning å°±æ˜¯é‚£ä¸ª Why.</p></blockquote><p>ä½†æ˜¯äººæ˜¯å¤šæ ·çš„, å¯¹äºæ¯ä¸ªäººæ¥è¯´, äººç”Ÿçš„æ„ä¹‰è‡ªç„¶ä¹Ÿåƒå·®ä¸‡åˆ«.</p><p>ç”šè‡³, æ˜¯å¦åº”è¯¥å»è¿½æ±‚äººç”Ÿçš„æ„ä¹‰ , ä¹Ÿå®Œå…¨æ˜¯ä¸ªäººçš„é€‰æ‹©.</p><p>å€¼å¾—ä¸€æçš„æ˜¯, ä½œè€…å¹¶æ²¡æœ‰å»æ­Œé¢‚è‹¦éš¾, è€Œæ˜¯å¼ºè°ƒåœ¨æ— æ³•é¿å…çš„è‹¦éš¾ä¸­, èµ‹äºˆäººç”Ÿä»¥æ„ä¹‰, æ‰¾åˆ°æ”¯æ’‘äººæ´»ä¸‹å»çš„ä¿¡å¿µ, æ”¹å˜æ€åº¦, è½¬ç§»ç„¦ç‚¹, äººæ‰èƒ½åœ¨è‹¦éš¾ä¸­æ›´å¥½åœ°ç”Ÿå­˜ä¸‹å».</p><p>åŒæ—¶, ä»–ä¹Ÿå¼ºè°ƒ, ä¸è¦æŠŠäººç”Ÿçš„ç›®æ ‡æ”¾åœ¨æˆåŠŸå’Œå¹¸ç¦ä¸Š, å®ƒä»¬åªæ˜¯ meaningful life ä¸­çš„ by-product:</p><blockquote><p>Donâ€™t aim at successâ€”the more you aim at it and make it a target, the more you are going to miss it. For success, like happiness, cannot be pursued; it must ensue, and it only does so as the unintended side-effect of oneâ€™s dedication to a cause greater than oneself or as the by-product of oneâ€™s surrender to a person other than oneself. Happiness must happen, and the same holds for success: you have to let it happen by not caring about it. <strong>I want you to listen to what your conscience commands you to do and go on to carry it out to the best of your knowledge.</strong> Then you will live to see that in the long runâ€”in the long run, I say!â€”success will follow you precisely because you had forgotten to think of it.</p></blockquote><p>è¿™å€’è®©æˆ‘æƒ³åˆ° John Roberts åœ¨ä»–é‚£ç¯‡å¾ˆå‡ºå½©çš„æ¼”è®² I wish you bad luck é‡Œé¢æåˆ°çš„:</p><blockquote><p>â€¦..And <strong>one important clue to living a good life is to not to try to live the good life</strong>. The best way to lose the values that are central to who you are is frankly <strong>not to think about them at all</strong>.</p></blockquote><p>åˆ»æ„è¿½æ±‚çš„åè€Œå¾—ä¸åˆ°.</p><p>å¤§æŠµçœŸæ­£é‡è¦çš„ä¸œè¥¿, è«ä¸å¦‚æ­¤.</p><p>è¿™æ ·æƒ³, äººç”ŸæŸç§ç¨‹åº¦ä¸Šæ˜¯å…¬å¹³çš„.</p><p>Seeing the message in your misfortunes and benefit from them.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‹–äº†è¿‘åŠå¹´, è¶ç€ä¼‘å‡, æ•´ç†äº†ä¸‹.&lt;/p&gt;
    
    </summary>
    
      <category term="Reading" scheme="http://lupeipei.github.io/categories/Reading/"/>
    
    
      <category term="Reading" scheme="http://lupeipei.github.io/tags/Reading/"/>
    
  </entry>
  
  <entry>
    <title>æ–°æ‰‹å…¥å‘Vim</title>
    <link href="http://lupeipei.github.io/posts/vim-tips-and-tricks/"/>
    <id>http://lupeipei.github.io/posts/vim-tips-and-tricks/</id>
    <published>2021-12-07T08:37:32.000Z</published>
    <updated>2021-12-07T08:45:21.293Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å¯¹ Vim æ–°æ‰‹æœ‰ä¸€äº›å¸®åŠ©, é«˜æ‰‹è¯·å¿½ç•¥.</p><span id="more"></span> <p>ä¹‹å‰ä¸€ç›´ä½¿ç”¨ Atom æ­é… Vim æ¨¡å¼æ¥å·¥ä½œ, å‰æ®µæ—¶é—´å½»åº•è·Ÿ  Atom æ‹œæ‹œ, é‡æ–°é…ç½®äº† Vim,ç”¨äº†ä¸€æ®µæ—¶é—´, æ¸æ¸ä¹ æƒ¯. è¿™é‡Œè®°å½•ä¸‹ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›æ„Ÿå—å’Œå°æŠ€å·§, æ–¹ä¾¿æ–°æ‰‹å¿«é€Ÿå…¥å‘.</p><p>æœ¬æ–‡åŸºäº Vim 8.2.</p><h4 id="é…ç½®vimrc"><a href="#é…ç½®vimrc" class="headerlink" title="é…ç½®vimrc"></a>é…ç½®vimrc</h4><p>å¤§éƒ¨åˆ†æ–°æ‰‹ä¸€ä¸Šæ¥å¤šæ˜¯åˆ·å¤§ç‰›ä»¬çš„<code>.vimrc</code>é…ç½®, ç„¶åç›´æ¥ç”¨, æŠŠvimé…ç½®å¾—éå¸¸ Modern, æˆ‘åˆæ¥ä¹Ÿæ˜¯, ç”šè‡³è¿é‡Œé¢å¾ˆå¤šé…ç½®çš„è¯­æ³•éƒ½ä¸å¤§æ‡‚, ä¸€ä¸Šæ¥ä»€ä¹ˆéƒ½ä¸ç®¡, ä¸€é¡¿çæ“ä½œ, èƒ½ç”¨å°±è¡Œ. åªèƒ½è¯´ Copy + Paste æ‡’äººæ¨¡å¼å®³äººä¸æµ…å•Š. åé¢æ…¢æ…¢æ‘¸å‡ºæ„Ÿè§‰, ç æ‰äº†å¾ˆå¤šæ’ä»¶, åªç•™ä¸‹è‡ªå·±çœ‹å¾—æ‡‚, å¸¸ç”¨åˆ°çš„.</p><p>å»ºè®®æ–°æ‰‹åªé…ç½®ä¸€äº›ç®€å•çš„,  åé¢æœ‰éœ€è¦å†æ…¢æ…¢æ·»åŠ , å¤šçœ‹æ–‡æ¡£, ç¡®ä¿ä½ çŸ¥é“å®‰è£…çš„æ’ä»¶æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„.</p><p>ä¸€äº›å¸¸ç”¨æ’ä»¶:</p><ul><li><p><a href="https://github.com/tpope/vim-commentary">tpope/vim-commentary</a></p></li><li><p><a href="https://github.com/tpope/vim-surround">tpope/vim-surround</a></p></li><li><p><a href="https://github.com/preservim/nerdtree">preservim/nerdtree</a></p></li><li><p><a href="https://github.com/mattn/emmet-vim">mattn/emmet-vim</a></p></li></ul><p>ä¸»é¢˜ç³»åˆ—, æ¨è <a href="https://github.com/vim-airline/vim-airline">vim-airline/vim-airline</a> æ­é… <a href="https://github.com/vim-airline/vim-airline-themes">vim-airline/vim-airline-themes</a></p><p>æœ‰å…³è¯­è¨€çš„æ’ä»¶, Github è‡ªè¡Œæœç´¢ vim-[language], æ¯”å¦‚ vim-ruby, vim-goâ€¦..</p><h4 id="ä¸€äº›æŒ‡ä»¤æ“ä½œä¸æŠ€å·§"><a href="#ä¸€äº›æŒ‡ä»¤æ“ä½œä¸æŠ€å·§" class="headerlink" title="ä¸€äº›æŒ‡ä»¤æ“ä½œä¸æŠ€å·§"></a>ä¸€äº›æŒ‡ä»¤æ“ä½œä¸æŠ€å·§</h4><p>åŸºæœ¬æ“ä½œ, å…‰æ ‡ç§»åŠ¨hjklä¹‹ç±», è¿™é‡Œå°±ç•¥è¿‡äº†.ç®€å•æä¸€äº›å…¶ä»–çš„æ“ä½œæŒ‡ä»¤.</p><p>ä¿å­˜å¹¶é€€å‡ºVim:</p><blockquote><p>é™¤äº†<code>:wq</code>, è¿˜å¯ä»¥ ZZ (shift+z ä¸¤æ¬¡) </p></blockquote><p>è¿”å› Normal mode :</p><blockquote><p>é™¤äº†å¸¸è§çš„ <code>esc</code>, <code>Ctrl-[</code>, <code>Ctrl-c</code> ä¹Ÿå¯ä»¥.</p></blockquote><p>æ‰“å¼€æ–‡ä»¶:</p><blockquote><p>æœ€ç®€å•çš„æ˜¯: <code>vim .</code>  æ‰“å¼€å½“å‰ç›®å½•, æˆ–è€… <code>vim file</code> æ‰“å¼€æ–‡ä»¶.</p><p>Vim å‘½ä»¤æœ¬èº«å¯ä»¥æ¥å—å‚æ•°, æ¯”å¦‚ <code>+&#123;cmd&#125;</code> æˆ–è€… <code>-c &#123;cmd&#125;</code> , æ‰“å¼€æ–‡ä»¶å¹¶æ‰§è¡Œç›¸åº”å‘½ä»¤.</p><pre><code class="shell">vim +&#123;cmd&#125; filevim -c &#123;cmd&#125; file</code></pre><p>è¿™é‡Œçš„cmd æŒ‡çš„æ˜¯åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹çš„å‘½ä»¤, æ¯”å¦‚æ‰“å¼€æ–‡ä»¶ <code>text.txt</code> å¹¶è·³è½¬åˆ°ç¬¬10è¡Œ:</p><pre><code class="shell">vim +10 text.txtvim -c 10 text.txt</code></pre><p>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ‰“å¼€æ–‡ä»¶:</p><p>æ¨èç”¨<code>:e xxx </code>,   åŒæ—¶ç»“åˆ <a href="https://github.com/preservim/nerdtree">preservim/nerdtree</a> , å¯ä»¥æ‰“å¼€æ–‡ä»¶<code>:e file </code>, ä¹Ÿå¯ä»¥æ‰“å¼€ç›®å½•<code>:e folder </code>, åŸºæœ¬æ»¡è¶³éœ€æ±‚.</p></blockquote><p>æ— æ’ä»¶ä¸‹æŸ¥æ‰¾æ–‡ä»¶:</p><blockquote><p>ä½¿ç”¨è‡ªå¸¦çš„ <code>find</code>, è®°å¾—æ­é… set path , è®¾ç½®å¥½éœ€è¦æŸ¥æ‰¾çš„ç›®å½•, åŒæ—¶å·§ç”¨Tab é”®è¡¥å…¨. æ¯”å¦‚:</p><pre><code>:set path+=app/models/:find tes&lt;Tab&gt;</code></pre></blockquote><p>æœç´¢ä¸æ›¿æ¢:</p><blockquote><p>æœç´¢: </p><p>åœ¨å½“å‰æ–‡ä»¶ä¸­æœç´¢, ä½¿ç”¨è‡ªå¸¦çš„<code>/content</code>,   <code>? content</code> </p><p>å…¨æ–‡æœç´¢, å»ºè®®ç”¨æ’ä»¶å§, æ¨è <a href="https://github.com/eugen0329/vim-esearch">eugen0329/vim-esearch</a>, æˆ‘è‡ªå·±ç”¨èµ·æ¥ç›®å‰è§‰å¾—å¤Ÿç”¨,é¡ºæ‰‹.å¦‚æœéè¦ç”¨è‡ªå¸¦çš„<code>:vim </code> æˆ–è€… <code>:grep</code> å¯èƒ½å¯¼è‡´å¼ƒå‘â€¦..</p><p>æ›¿æ¢:</p><ul><li><code>:s/pattern/replace/g</code> - å…¨å±€æ›¿æ¢å½“å‰è¡Œæ‰€æœ‰åŒ¹é….</li><li><code>:%s/pattern/replace/g</code> - å…¨å±€æ›¿æ¢å½“å‰æ–‡ä»¶æ‰€æœ‰åŒ¹é….</li><li><code>:%s//replace/g</code> - å…¨å±€æ›¿æ¢å½“å‰æ–‡ä»¶æœ€åä¸€æ¬¡æœç´¢ç»“æœ.</li></ul></blockquote><p>æ’¤é”€ä¸åæ’¤é”€</p><blockquote><p>u æ’¤é”€(Undo), å¦‚æœéœ€è¦æ’¤é”€åˆšåˆšçš„æ’¤é”€æ“ä½œ (Redo), ä½¿ç”¨ <code>Ctrl-r</code></p></blockquote><p>Tab åˆ›å»ºä¸åˆ‡æ¢:</p><blockquote><p><code>:tabnew file</code> : åœ¨æ–°çš„ tab ä¸­æ‰“å¼€æ–‡ä»¶</p><p>æ‰“å¼€æ–‡ä»¶æ—¶, å¼€å¤šä¸ªtabs, å¯ä»¥ç”¨:<code>vim -p file1 file2</code></p><p>è·³è½¬åˆ° ä¸‹ä¸€ä¸ª tab ç”¨ <code>gt</code>, å‰ä¸€ä¸ª tab ç”¨ <code>gT</code></p></blockquote><p>çª—å£æ‹†åˆ†ä¸åˆ‡æ¢:</p><blockquote><p>Ctrl-w + n: æ‹†åˆ†çª—å£, æ–°å¢çª—å£</p><p>Ctrl-w + s:  å°†å½“å‰çª—å£åˆ†æˆæ°´å¹³çª—å£</p><p>Ctrl-w  + v: å°†å½“å‰çª—å£åˆ†æˆç«–ç›´çª—å£</p><p>Ctrl-w + q /  c :  é€€å‡º/å…³é—­ å½“å‰çª—å£</p><p>Ctrl-w + h/j/k/l:  çª—å£å·¦å³ä¸Šä¸‹åˆ‡æ¢</p></blockquote><p>Bufferåˆ‡æ¢:</p><blockquote><p><code>:bn</code> åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer</p><p><code>:bp</code>åˆ‡æ¢åˆ°å‰ä¸€ä¸ªbuffer</p><p><code>:bd</code>  åˆ é™¤å½“å‰buffer, å¯ä»¥<code>:bd + &#123;BufferNumber&#125;</code>, åˆ é™¤æŒ‡å®š bufferNumber çš„Buffer.</p><p>å‘½ä»¤è¡Œä½¿ç”¨<code>:ls</code> åˆ—å‡ºbuffer åˆ—è¡¨, å¦‚ä½•å»å¯¹åº”çš„Buffer?</p><p><code>:buffer + &#123;BufferNumber&#125;</code>  æˆ–è€…æŒ‰é”® bufferNumber  + <code>Ctrl-^</code>, å»æŒ‡å®š bufferNumberçš„Buffer.</p><p> <code>Ctrl-^</code> ä¹Ÿå¯ä»¥ç”¨æ¥è¿”å›å‰ä¸€ä¸ªç¼–è¾‘çš„buffer.</p></blockquote><p>Vim å’Œ ç»ˆç«¯åˆ‡æ¢:</p><blockquote><p>æŒ‚èµ·Vimçš„ä¸‰ç§æ–¹æ³•:</p><ul><li><code>:suspend</code> </li><li><code>:stop</code>  </li><li>Ctrl-z</li></ul><p>ç»ˆç«¯è¾“å…¥: fg&lt;cr&gt; è¿”å›åˆ°Vim. (&lt;cr&gt; æŒ‡ Enteré”®)</p></blockquote><p>æ‰§è¡Œå‘½ä»¤:</p><blockquote><p><code>:!cmd</code>  å…¶ä¸­ cmd ä¸º shell å‘½ä»¤.</p><p>å¯¹æ–‡ä»¶çš„æ“ä½œ, å¯ä»¥è€ƒè™‘å®‰è£… <a href="https://github.com/tpope/vim-eunuch">tpope/vim-eunuch</a> è¯•è¯•.[vim-eunuch å¶å°”ä¼šè®©äººæŠ“ç‹‚..]</p></blockquote><p>å±å¹•åˆ·æ–°æ¢å¤:</p><blockquote><p>å¦‚æœä¸€é¡¿æ“ä½œå, æ•´ä¸ªå±å¹•é»‘äº†(sooner or laterâ€¦.), ä½¿ç”¨ <code>Ctrl+l</code>  æˆ–è€…å‘½ä»¤ <code>:redraw</code>,  ç”šè‡³å¼ºåˆ¶åˆ·æ–° <code>:redraw!</code>  å›åˆ°ç°å®. </p></blockquote><p>vim æ–‡æ¡£é˜…è¯»:</p><blockquote><p><code>:h(elp) &#123;content&#125;</code>  {content} ä¸ºéœ€è¦æœç´¢çš„å†…å®¹.</p><p>æ¯”å¦‚ <code>:h i_CTRL-P</code> æŸ¥çœ‹ Insert æ¨¡å¼ä¸‹ Ctrl-P åšä»€ä¹ˆ. å¦‚æœæŸ¥çœ‹Normal æ¨¡å¼ä¸‹Ctrl-P åšä»€ä¹ˆ, ç”¨ <code>:h CTRL-P</code> </p><p>é˜…è¯»æ–‡æ¡£æ—¶, å¦‚ä½•è·³è½¬?</p><p><code>Ctrl-]</code> è·³è½¬åˆ°å…‰æ ‡å¯¹åº”çš„æ–‡æ¡£</p><p><code>Ctrl-o</code> è¿”å›ä¸Šä¸€ä¸ªä½ç½®</p></blockquote><h4 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h4><p>Enjoy.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡å¯¹ Vim æ–°æ‰‹æœ‰ä¸€äº›å¸®åŠ©, é«˜æ‰‹è¯·å¿½ç•¥.&lt;/p&gt;
    
    </summary>
    
      <category term="CS" scheme="http://lupeipei.github.io/categories/CS/"/>
    
    
      <category term="Vim" scheme="http://lupeipei.github.io/tags/Vim/"/>
    
  </entry>
  
</feed>
