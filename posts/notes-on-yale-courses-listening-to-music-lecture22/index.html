
  <!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Music," />





  <link rel="alternate" href="/atom.xml" title="Lucia" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Ich bin der Welt abhanden gekommen。「 我告别喧嚣的尘世。」  Introduction to Modernism: Elements in Stravinsky’s Ballet Scores 介绍现代时期的两位器乐和声乐大师 Igor Stravinsky，Arnold Schoenberg. Igor Stravinsky:  伊戈尔·费奥多罗维奇·斯特拉文">
<meta property="og:type" content="article">
<meta property="og:title" content="Lecture 22 Modernism and Mahler">
<meta property="og:url" content="http://lupeipei.github.io/posts/notes-on-yale-courses-listening-to-music-lecture22/index.html">
<meta property="og:site_name" content="Lucia">
<meta property="og:description" content="Ich bin der Welt abhanden gekommen。「 我告别喧嚣的尘世。」  Introduction to Modernism: Elements in Stravinsky’s Ballet Scores 介绍现代时期的两位器乐和声乐大师 Igor Stravinsky，Arnold Schoenberg. Igor Stravinsky:  伊戈尔·费奥多罗维奇·斯特拉文">
<meta property="og:locale">
<meta property="article:published_time" content="2020-03-15T14:17:20.000Z">
<meta property="article:modified_time" content="2021-12-21T14:41:13.093Z">
<meta property="article:author" content="Lucia">
<meta property="article:tag" content="Music">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lupeipei.github.io/posts/notes-on-yale-courses-listening-to-music-lecture22/"/>





  <title></title>
<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  <div class="container   ">
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner" style="display: none;"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lucia</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-series">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-file-text"></i> <br />
            
            专题
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner" style="width: 100%;">
        <div class="sidebar-book">
  
    <div class="sidebar-book-header">
      <div class="title">Yale《listening to music》刷课笔记</div>
    </div>
  

  <div class="sidebar-book-body">
    <div class="book-catalog-body">
      <div class="book-toc-content">
        <ul>
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-preface/" class="text">Preface</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture01/" class="text">Lecture 01 Introduction</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture02/" class="text">Lecture 02 Introduction to Instruments and Musical Genres</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture03/" class="text">Lecture 03 Rhythm - Fundamentals</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture04/" class="text">Lecture 04  Rhythmi - Jazz, Pop and Classical</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture05/" class="text">Lecture 05 Melody - Notes, Scales, Nuts and Bolts</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture06/" class="text">Lecture 06 Melody - Mozart and Wagner</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture07/" class="text">Lecture 07 Harmony - Chords and How to Build Them</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture08/" class="text">Lecture 08 Bass Patterns - Blues and Rock</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture09/" class="text">Lecture 09 Sonata-Allegro Form - Mozart and Beethoven</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture10/" class="text">Lecture 10 Sonata-Allegro and Theme and Variations</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture11/" class="text">Lecture 11 Form - Rondo, Sonata-Allegro and Theme and Variations</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture12/" class="text">Lecture 12 Guest Conductor - Saybrook Orchestra</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture13/" class="text">Lecture 13 Fugue - Bach, Bizet and Bernstein</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture14/" class="text">Lecture 14 Ostinato Form</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture15/" class="text">Lecture 15 Gregorian Chant and Music in the Sistine Chapel</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture16/" class="text">Lecture 16 Baroque Music - The Vocal Music of Johann Sebastian Bach</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture17/" class="text">Lecture 17 Mozart and His Operas</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture18/" class="text">Lecture 18 Piano Music of Mozart and Beethoven</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture19/" class="text">Lecture 19 Romantic Opera - Verdi's La Traviata, Bocelli, Pavarotti and Domingo</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture20/" class="text">Lecture 20 The Colossal Symphony - Beethoven, Berlioz, Mahler and Shostakovich</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture21/" class="text">Lecture 21 Musical Impressionism and Exoticism - Debussy, Ravel and Monet</a>
              </li>
            
          
            
            
              <li class="active">
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture22/" class="text">Lecture 22 Modernism and Mahler</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-lecture23/" class="text">Lecture 23 Review of Musical Style</a>
              </li>
            
          
            
            
              <li>
                <div class="wholerow"></div>
                <a href="/posts/notes-on-yale-courses-listening-to-music-final/" class="text">Final</a>
              </li>
            
          
        </ul>
      </div>
    </div>
  </div>
  
</div>

        <div class="content-wrap" style="margin-left: 280px; padding: 30px;">
          <div id="content" class="content">
            
<div class="content-book">
  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-book " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/posts/notes-on-yale-courses-listening-to-music-lecture22/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Lecture 22 Modernism and Mahler
              
            
          </h1>
        
      <div class="post-meta"></div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Ich bin der Welt abhanden gekommen。「 我告别喧嚣的尘世。」</p>
<ul>
<li><p>Introduction to Modernism: Elements in Stravinsky’s Ballet Scores</p>
<p>介绍现代时期的两位器乐和声乐大师 Igor Stravinsky，Arnold Schoenberg.</p>
<p>Igor Stravinsky:</p>
<blockquote>
<p>伊戈尔·费奥多罗维奇·斯特拉文斯基（1882年6月17日－1971年4月6日），又译斯特拉温斯基，俄国-法国-美国作曲家、钢琴家及指挥，20世纪现代音乐的传奇人物，革新过三个不同的音乐流派：原始主义、新古典主义以及序列主义。被人们誉为是音乐界中的毕加索。</p>
<p>斯特拉文斯基作曲风格有许多的变化。他最早因为谢尔盖·达基列夫委托的<strong>三部芭蕾舞剧</strong>而出名，而首演是由佳吉列夫的俄派芭蕾舞团在巴黎首演：1910年的《火鸟》、1911年的《彼得鲁什卡》及1913年的《春之祭》。</p>
<p>其中的《春之祭》让往后的作曲者思考旋律的结构，也��为是让斯特拉文斯基有长久声誉的关键，革命性地拓展了音乐设计的边界。</p>
</blockquote>
<p>Arnold Schoenberg:</p>
<blockquote>
<p>阿诺尔德·勋伯格（德语：Arnold Schönberg，定居美国后改姓氏写法为Schoenberg，1874年9月13日－1951年7月13日），奥地利作曲家、音乐教育家、音乐理论家，作家，画家，曾向亚历山大·策姆林斯基学习作曲，其后并迎娶策氏之妹为妻。</p>
<p>勋伯格的方法，无论是在和声还是发展方面，都是20世纪最有影响力的音乐理念之一。</p>
</blockquote>
<p>相比Firebird， Petrushka 更能体现现代派音乐。</p>
<blockquote>
<p> It’s modern because of the new approach to rhythm. In the Romantic music that we have been listening to, we would hear these long, somewhat amorphous melodies, amorphous in terms of the rhythm. But now here with the advent of Modernism in the twentieth century we get a much more driving type of rhythm. <strong>It almost in some ways goes back to the driving rhythms of the Baroque except with one major difference, and that is that these modern rhythms are highly irregular</strong>. What we get oftentimes are irregular meters.</p>
</blockquote>
<p>聆听  Igor Stravinsky 的芭蕾舞剧《彼得鲁什卡》 1911, <em>Petrushka</em></p>
<p>《春之祭》The Rite of Spring 1913年5月在巴黎首演，即引起轰动。观众以为听到的是类似Tchaikovsky‘s Swan Lake, 舒缓而优雅，结果听到的春之祭充斥着刺耳的不规则音乐。【我这翻译……】</p>
<p>文化历史学者认为《春之祭》的首演，开启了现代音乐时期。</p>
<p>cultural historians to put their finger on the moment that constitutes the beginning of Modernism it would probably be this moment of the performance of The Rite of Spring.</p>
</li>
<li><p>Creating the Dissonance and Irregularities in <em>The Rite of Spring</em></p>
<p>《春之祭》是如何做到引起人们的不悦的？</p>
<p>五个方面：</p>
<ul>
<li>heavy dissonance 【重不和谐音】</li>
<li>much greater reliance on percussion【大量依赖打击乐器】</li>
<li>the use of stringed instruments as percussion instruments【弦乐器当打击乐器用】</li>
<li>an increased use of woodwinds.【增加对木管乐器的使用】</li>
<li>this idea of rhythm, driving rhythms【不规则的节奏】</li>
</ul>
<p>随后，教授讲述了他如何从不喜欢《春之祭》到喜欢它的经历。</p>
</li>
<li><p>Mahler’s “Ich bin der Welt abhanden gekommen”: An Exploration</p>
<p>到了教授非常喜欢的Mahler了。</p>
<p>有些音乐并不能教会你什么，但是就是让人愉悦，这就够了。</p>
<p>It’s just gorgeous, but we don’t really learn anything from it.</p>
<p>Gustav Mahler 除了写了9部交响曲，还写过两部歌集，管弦歌曲 orchestral Lieder 【教授推荐听Mahler从他的交响曲开始，嗯，Yes，Sir！】</p>
<p>I hope you will come to like Mahler.</p>
<p>【听了Gustav Mahler第五交响曲第四乐章，温柔到无法言表。】</p>
<p>聆听 Gustav Mahler orchestral Lieder “Ich bin der Welt abhanden gekommen”</p>
<p>《Ich bin der Welt abhanden gekommen》是德国诗人Friedrich Ruckert的作品， Mahler将诗人的诗谱成了五首歌。</p>
<p>全诗内容：</p>
<blockquote>
<p> Ich bin der Welt abhanden gekommen，    I am lost to the world，</p>
<p>Mit der ich sonst viele Zeit verdorben，  with which I used to waste so much time，</p>
<p>Sie hat so lange nichts von mir vernommen， It has heard nothing from me for so long</p>
<p>Sie mag wohl glauben, ich sei gestorben! that it may very well believe that I am dead!</p>
<p>Es ist mir auch gar nichts daran gelegen，   It is of no consequence to me</p>
<p>Ob sie mich für gestorben hält，        Whether it thinks me dead，</p>
<p>Ich kann auch gar nichts sagen dagegen，     I cannot deny it，</p>
<p>Denn wirklich bin ich gestorben der Welt。   for I really am dead to the world。</p>
<p>Ich bin gestorben dem Weltgetümmel，       I am dead to the world’s tumult,</p>
<p>Und ruh’ in einem stillen Gebiet!        And I rest in a quiet realm!</p>
<p>Ich leb’ allein in meinem Himmel，       I live alone in my heaven,</p>
<p>In meinem Lieben, in meinem Lied!        In my love and in my song!</p>
</blockquote>
<p>This is a metaphor for all of his music so this is an individual that has become detached from the world and simply wants to live in the world of music.</p>
<p>【Mahler也想要远离尘世，活着音乐的世界里？】</p>
<p>最后教授关了灯，播放了整个曲子，让学生们静下来，安静地听完整首。</p>
</li>
<li><p>The Values of Saving Classical Music and Conclusion</p>
<p>教授讲述了整个系列课程的意义，这段话很是喜欢。</p>
<blockquote>
<p>Now it’s time for you to do your part. What’s your part?</p>
<p>You have to do the following kinds of things.</p>
<ul>
<li> You have to continue to buy CDs and download classical music off of iTunes or whatever it is. <strong>Don’t steal that stuff.</strong> Why? If you take that stuff for nothing, what are you doing? You’re taking the livelihood away from Jacob and Santana and Lynda here, just the livelihood of musicians. They’ve put their labor into it and you’re taking it for nothing. So download these things. It doesn’t cost all that much.</li>
<li><strong>get involved</strong>. Get involved in informal singing groups, keep your piano lessons, if you’ve ever had those kinds of things going on, local choral groups, whatever.</li>
<li>give music lessons to your children. <strong>Teaches them hard work, teaches them to think sequentially, teaches them various forms of quantitative reasoning, teaches them also to be disciplined and teaches them to have a pride in the work product that they ultimately generate</strong>.</li>
</ul>
</blockquote>
<p>Thanks!!!</p>
</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Music/" rel="tag"># Music</a>
          
        </div>
      

      
        
      

      
        
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
          
        
      
        
      
      
      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/posts/notes-on-yale-courses-listening-to-music-lecture21/" rel="next" title="Lecture 21 Musical Impressionism and Exoticism - Debussy, Ravel and Monet">
                <i class="fa fa-chevron-left"></i> Lecture 21 Musical Impressionism and Exoticism - Debussy, Ravel and Monet
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/posts/notes-on-yale-courses-listening-to-music-lecture23/" rel="prev" title="Lecture 23 Review of Musical Style">
                Lecture 23 Review of Musical Style <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>
</div>

          </div>
          


          
  <div class="comments" id="comments">
    
      
  <script src="https://utteranc.es/client.js"
    repo="Lupeipei/Lupeipei.github.io"
    issue-term="pathname"
    label="Comment"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>


    
  </div>


        </div>
        
          
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lucia</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
  &nbsp; | &nbsp;
  <span class="post-count">
    <i class="fa fa-pencil" aria-hidden="true"></i>
    391.5k
  </span>

</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

</body>
</html>



